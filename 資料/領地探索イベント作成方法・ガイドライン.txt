# 領地探索イベント作成方法・ガイドライン

## 作るためには

以下の2つの工程をこなせばイベントを作成できます。

### 必要な関数
「イベントの存在判定」「イベントの発生判定」「イベント本体」の三つの関数が必要です。
テンプレートを利用してください。XXになっている部分は適宜置き換えてください。

### 登録処理

CREATE_TERRITORY_EVENT_MAP内で、REGISTER_TERRITORY_EVENTを呼び出して登録します。
第1引数はイベントの分類（通常・危険）、第2引数はイベントの英名（テンプレートでXXになっている部分、置き換えた値を設定）、第3引数はイベントの名前（イベント発生時に表示される名前）です。

例:`CALL REGISTER_TERRITORY_EVENT(領地探索_通常, "ATTEND_BANQUET", "宴会に出席")`

## 領地探索とデイリーの使い分け

領地探索においては、「繰り返し発生して違和感のない」「特定のキャラに依存しない」シチュエーションを心がけてください。
あまり長文になるようであれば、デイリーとしての実装を考えたほうが良いでしょう。
マイナーな妖怪との性的なイベントや、あまり変わったシチュエーションも、デイリーとしての実装を考えた方がいいでしょう。

## 地の文・台詞

主人公が放浪中に実行される可能性があります。「宮殿」ではなく、「拠点」としてください。
探索者・モブを問わず、直接話法で話させることを避けてください。間接話法をカギ括弧、二重カギ括弧等でくくる分には構いません。
探索者が武装している表現においては、剣や槍といった具体的な武器の種類への言及は避け、「武器」としてください。
本体側でWAITをかけるので、イベントの最後の行でPRINTWをする必要はありません。

例:

```
PRINTFORML やるのかと荒くれが言ってきた
PRINTFORMW %ANAME(対象)%は武器を構えた！
PRINTFORML

IF LIMIT(ABL:対象:武闘, 50, 100) > RAND:100
    PRINTFORML %ANAME(対象)%は無事に荒くれを撃退した
    PRINTFORML 乱暴なやつもいるものだと思いながら拠点に戻った
ELSE
    (略)
ENDIF
```

## 金・アイテムの獲得/喪失

旧領地探索と違い、拠点フェイズコマンドとして実装しています。
1フェイズ中に複数回実行可能なので、控えめを心がけてください。
金は、通常の探索では3000-5000、危険な探索では5000程度を目安としてください。
獲得がランダムであったり、条件がある場合、その難易度に応じて変動させて構いません。
通常の探索では、「開発を必要としない消費アイテム」「開発を必要とする消費アイテムのうち、会いに行くで使用するもの（酒など）」の獲得を可とします。
危険な探索では上記に加え、「開発を必要とする消費アイテム全て」「開発を必要としない買い切りアイテム」の獲得を可とします。

## 素質の獲得/喪失

「絶倫」「技師」「天の御遣い」「妖術知識」のような、取得に金や条件が必要である素質を獲得/喪失させないでください。
「孤高」「抑圧」「小柄体型」「子供体型」を獲得/喪失させないでください。
「動物耳」「尻尾」を獲得/喪失させる場合、現在のCFLAGの状況を考慮してください。

## 能力・経験値の獲得/喪失

能力を直接変動させる場合、SLG系能力のうち、妖術を除く6種の減少のみを可とします。
経験値は、七能力であれば通常の探索では10、危険な探索では20を目安にしてください。
参考までに、ランクCのキャラは6の経験値で能力が1上昇します（成長型などの補正を加味しない場合）。

## 好感度の上昇/減少

好感度・従属度・依存度の増減は100-200程度を目安にしてください。
勢力感の友好度・敵対度の増減は100程度を目安にしてください。

## クールタイム

通常の探索でクールタイムを得る場合、通常は1、最大で2を目安にしてください。
危険な探索でクールタイムを得る場合、最大で3を目安にしてください。

## ランダムなイベントの成功率

成功/失敗の判定が能力に依存し、かつ入るかどうかがプレイヤーに選択が委ねられる場合、対応する能力と探索者のその能力値を表示してください。
PRINT_ABILITY関数を用意してあります。
例:妖怪を討伐に行こうか？　鈴仙の武闘:B 71

### 通常の探索

失敗時にデメリットがない場合、成功率を最低でも30パーセント確保してください。
失敗時にデメリットがある場合、成功率を最低でも50パーセント確保してください。
「何もしない」にあたる選択をした場合はデメリットを設けないでください。

## 危険な探索

失敗時にデメリットがある場合、成功率を最低でも30パーセント確保してください。

## ASK系関数の前の改行

ASK系関数（ASK_YN,MULTI,MULTI_JUDGE）の前にはPRINTLで空行を挟んでください。
PRINT_ABILITYを直前に配置する場合、その前に空行を挟んでください。

## 通常の探索・危険な探索の使い分け

### 通常の探索

通常の探索は、人を選ばないイベントのためにあります。
プレイヤーに選択の余地がない性的なイベントでは、性表現を少年誌レベルに抑えてください。処女や童貞、ファーストキスの喪失は起こさないでください。
貞操（処女・童貞・ファーストキス）に関わる性的なイベントは、プレイヤーに選択の余地を「それと分かる形で」与える限りにおいて実装を可とします。
その場合でも、探索者が陵辱・輪姦される描写は含めないでください。

例:探索者が人助けをする　勢力士官の好感度+50
例:探索者がスリに遭う　追いかけると武闘経験値+3または金-500
例:探索者が財布を拾う　ネコババで金+1000、届けると勢力士官の好感度+100
例:探索者が酒場で女/男と知り合う　抱く/抱かれると性的な経験（童貞/処女喪失）
例:探索者が宴会で酔っ払って男に誘われる　抱かれると性的な経験（処女喪失）
例:探索者が娼婦に声をかけられる　金3000で抱くと性的な経験
例:風が吹き、女探索者が下着を見られる　露出経験値+1

### 危険な探索

危険な探索は、人を選ぶイベントのためにあります。
プレイヤーに選択の余地がなく、しかも貞操に関わる性的なイベントは、必ず危険な探索として実装してください。
探索者が陵辱・輪姦される描写が含まれるイベントは、プレイヤーに選択の余地が与えられるとしても、危険な探索として実装してください。
和姦であったり、少年誌レベルの性表現のイベントでも、シチュエーションに応じ危険な探索として実装してください。

例:探索者が強姦の現場を見かける　犯人を撃破すると金/体、負けるとクールタイムないし陵辱、参加すると陵辱、あるいは見て見ぬふり
例:探索者が暴漢に襲われる　撃破して金を奪うか、負けてクールタイムないし陵辱
例:探索者が宴会で酔いつぶれて男に宿に連れ込まれる　性的な経験（処女喪失）
例:探索者が商人に声をかけられる　金3000で麻薬を入手
例:探索者が肉便器をみかける　使うか、自分も使われるか、放置