;-------------------------------------------------
;# COM_AUTOSELECT_N_3_コマンドの優先度設定
;-------------------------------------------------
@COM_AUTOSELECT_N_SET_COM_PRIORITY(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET
#DIM L_COUNTER
#DIM RAND_NUM
#DIM COM_AUTO_CATEGORY_PRIORITY_SUM		;コマンド実行優先度の計算に使う一時変数の補助

;-------------------------------------------------
;## リセット
;-------------------------------------------------
VARSET COM_AUTO_COM_PRIORITY, 0

;-------------------------------------------------
;### CATEGORY_1_LIKE_0
;-------------------------------------------------
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
;出会い頭の挨拶補正
IF TFLAG:55 == 0
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += 100
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
IF ABL:MAIN_PLAYER:武闘 >= ABL:MAIN_PLAYER:防衛 && ABL:MAIN_PLAYER:武闘 >= ABL:MAIN_PLAYER:知略 && ABL:MAIN_PLAYER:武闘 >= ABL:MAIN_PLAYER:政治 && ABL:MAIN_PLAYER:武闘 >= ABL:MAIN_PLAYER:歌唱 && ABL:MAIN_PLAYER:武闘 >= ABL:MAIN_PLAYER:料理
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("武術訓練") += COM_AUTO_COM_PRIORITY:GET_TRAINNUM("武術訓練")
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) += COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("武術訓練")) * 3
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
IF ABL:MAIN_PLAYER:防衛 >= ABL:MAIN_PLAYER:武闘 && ABL:MAIN_PLAYER:防衛 >= ABL:MAIN_PLAYER:知略 && ABL:MAIN_PLAYER:防衛 >= ABL:MAIN_PLAYER:政治 && ABL:MAIN_PLAYER:防衛 >= ABL:MAIN_PLAYER:歌唱 && ABL:MAIN_PLAYER:防衛 >= ABL:MAIN_PLAYER:料理
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("護身術") += COM_AUTO_COM_PRIORITY:GET_TRAINNUM("護身術")
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) += COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("護身術")) * 3
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
IF ABL:MAIN_PLAYER:知略 >= ABL:MAIN_PLAYER:武闘 && ABL:MAIN_PLAYER:知略 >= ABL:MAIN_PLAYER:防衛 && ABL:MAIN_PLAYER:知略 >= ABL:MAIN_PLAYER:政治 && ABL:MAIN_PLAYER:知略 >= ABL:MAIN_PLAYER:歌唱 && ABL:MAIN_PLAYER:知略 >= ABL:MAIN_PLAYER:料理
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("兵法学習") += COM_AUTO_COM_PRIORITY:GET_TRAINNUM("兵法学習")
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) += COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("兵法学習")) * 3
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
IF ABL:MAIN_PLAYER:政治 >= ABL:MAIN_PLAYER:武闘 && ABL:MAIN_PLAYER:政治 >= ABL:MAIN_PLAYER:防衛 && ABL:MAIN_PLAYER:政治 >= ABL:MAIN_PLAYER:知略 && ABL:MAIN_PLAYER:政治 >= ABL:MAIN_PLAYER:歌唱 && ABL:MAIN_PLAYER:政治 >= ABL:MAIN_PLAYER:料理
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("政務") += COM_AUTO_COM_PRIORITY:GET_TRAINNUM("政務")
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) += COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("政務")) * 3
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
IF ABL:MAIN_PLAYER:歌唱 >= ABL:MAIN_PLAYER:武闘 && ABL:MAIN_PLAYER:歌唱 >= ABL:MAIN_PLAYER:防衛 && ABL:MAIN_PLAYER:歌唱 >= ABL:MAIN_PLAYER:知略 && ABL:MAIN_PLAYER:歌唱 >= ABL:MAIN_PLAYER:政治 && ABL:MAIN_PLAYER:歌唱 >= ABL:MAIN_PLAYER:料理
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("歌唱訓練") += COM_AUTO_COM_PRIORITY:GET_TRAINNUM("歌唱訓練")
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) += COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("歌唱訓練")) * 3
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
IF ABL:MAIN_PLAYER:料理 >= ABL:MAIN_PLAYER:武闘 && ABL:MAIN_PLAYER:料理 >= ABL:MAIN_PLAYER:防衛 && ABL:MAIN_PLAYER:料理 >= ABL:MAIN_PLAYER:知略 && ABL:MAIN_PLAYER:料理 >= ABL:MAIN_PLAYER:政治 && ABL:MAIN_PLAYER:料理 >= ABL:MAIN_PLAYER:歌唱
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("料理") += COM_AUTO_COM_PRIORITY:GET_TRAINNUM("料理")
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) += COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("料理")) * 3
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("警邏")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("警邏")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("警邏")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("警邏")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("警邏")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("警邏")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("警邏")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += (TALENT:MAIN_PLAYER:酒豪) * 7
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += (TALENT:MAIN_PLAYER:サボり魔) * 3
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
SIF (TALENT:MAIN_PLAYER:幼稚) || (TALENT:MAIN_PLAYER:下戸) - 7
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("酒を飲む") = 1
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += (TALENT:MAIN_PLAYER:酒豪) * 4
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += (TALENT:MAIN_PLAYER:サボり魔) * 6
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += (TALENT:MAIN_PLAYER:服従) * 2 + (TALENT:MAIN_PLAYER:隷属) * 2
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
IF TALENT:MAIN_PLAYER:幼稚
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) = 0
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += (ITEM:果実酒) * 3
ELSE
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("酒を飲む")) += (ITEM:醸造酒 || ITEM:日本酒 || ITEM:蒸留酒) * 5
ENDIF
;-------------------------------------------------
;### CATEGORY_2_LIKE_300
;-------------------------------------------------
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("猥談")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += 100
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += 100
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += 100
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += 100
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += 100
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += 100
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += 100
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += 100
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += 100
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += 100
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
;終了直前じゃない、前回移動してない
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) += 3
IF TFLAG:55 != TFLAG:56 && TFLAG:55 % 5 == 0 && PREVCOM != 390 && PREVCOM != 391
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
ENDIF
;デート終了時
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) += 3
IF TFLAG:55 == TFLAG:56 && PREVCOM != 390 && PREVCOM != 391
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 0)
ENDIF
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += 100
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
;陥落素質がない＆男同士＆両刀ではない＆酔っていない
IF !TALENT:MAIN_PLAYER:恋慕 && !TALENT:MAIN_PLAYER:服従 && !TALENT:MAIN_PLAYER:主人 && IS_SAMESEX_M(MASTER, MAIN_PLAYER) && !TALENT:MAIN_PLAYER:両刀 && PALAM:MAIN_PLAYER:酔い == 0
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) = -1
ENDIF
;デートしていない
IF !TFLAG:54
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("食事") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("食事")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("水浴び") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("水浴び")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("泳ぐ") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("泳ぐ")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("花冠を作る") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("花冠を作る")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("狩りをする") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("狩りをする")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("移動") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("移動")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("帰る") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("帰る")) = -1
;デートしている
ELSE
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("二人で出掛ける")) = -1
ENDIF

;-------------------------------------------------
;### CATEGORY_3_LIKE_500
;-------------------------------------------------
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("頭を撫でる") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("頭を撫でる")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("櫛で梳かす") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("櫛で梳かす")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("背中を流す") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("背中を流す")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("背中を流す") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("背中を流す") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("背中を流す") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("背中を流す") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
;陥落素質がない＆男同士＆両刀ではない＆酔っていない
IF !TALENT:MAIN_PLAYER:恋慕 && !TALENT:MAIN_PLAYER:服従 && !TALENT:MAIN_PLAYER:主人 && IS_SAMESEX_M(MASTER, MAIN_PLAYER) && !TALENT:MAIN_PLAYER:両刀 && PALAM:MAIN_PLAYER:酔い == 0
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("見つめあう") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("見つめあう")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("スキンシップ") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("スキンシップ")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("髪を梳く") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("髪を梳く")) = -1
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("甘い言葉") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("甘い言葉")) = -1
ENDIF
;-------------------------------------------------
;### CATEGORY_4_LIKE_800
;-------------------------------------------------
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("バードキス") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("バードキス") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)				;活発		するのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("バードキス") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)			;大人しい	するのはバード・ソフトキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("バードキス") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)				;遊び人		するのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)		;活発		されるのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)	;大人しい	されるのはバード・ソフトキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)	;凛とした	されるのはバード・ソフトキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)	;遊び人	されるのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("バードキス") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("バードキス") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("バードキス") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("バードキス")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ソフトキス") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ソフトキス")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ソフトキス") += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)			;大人しい	するのはバード・ソフトキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ソフトキス") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)			;凛とした	するのはソフト・ディープキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ソフトキス") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)				;クール		するのはソフト・ディープキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ソフトキス")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)	;大人しい	されるのはバード・ソフトキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ソフトキス")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)	;クール	されるのはソフト・ディープキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ソフトキス")) += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)	;凛とした	されるのはバード・ソフトキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ソフトキス") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ソフトキス") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ソフトキス") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ソフトキス")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ソフトキス")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ソフトキス")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ディープキス")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)				;活発		するのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)			;クール		するのはソフト・ディープキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)			;凛とした	するのはソフト・ディープキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)			;遊び人		するのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ディープキス")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)	;活発		されるのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ディープキス")) += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)	;クール	されるのはソフト・ディープキスを好む
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ディープキス")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)	;遊び人	されるのはバード・ディープキスを好む
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("ディープキス") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ディープキス")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ディープキス")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("ディープキス")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
;-------------------------------------------------
;### CATEGORY_5_LIKE_1500
;-------------------------------------------------
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("蜂蜜水") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("蜂蜜水")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("蜂蜜水") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) + (TALENT:MAIN_PLAYER:幼稚) * 5
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("蜂蜜水")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) + (TALENT:MAIN_PLAYER:幼稚) * 5
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("性の知識を教える") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("性の知識を教える") += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("性の知識を教える") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("性の知識を教える") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("性の知識を教える") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("性の知識を教える") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("性の知識を教える")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("性の知識を教える")) += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("性の知識を教える")) += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("性の知識を教える")) += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("性の知識を教える")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1) * RAND:4
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("性の知識を教える")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("お腹の音を聴く") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("お腹の音を聴く") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("お腹の音を聴く") += AUTO_N_TYPE_魅了(MAIN_TARGET, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("お腹の音を聴く") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("お腹の音を聴く")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("お腹の音を聴く")) += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("お腹の音を聴く")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("お腹の音を聴く")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 0)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("日常フェラ") += GET_INITIATIVE_N_RANK(MAIN_PLAYER)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("日常フェラ")) += GET_INITIATIVE_N_RANK(MAIN_PLAYER) * -1
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("日常フェラ") += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("日常フェラ") += AUTO_N_TYPE_魅了(MASTER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("日常フェラ") += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:GET_TRAINNUM("日常フェラ") += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("日常フェラ")) += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("日常フェラ")) += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("日常フェラ")) += AUTO_N_TYPE_陥落(MAIN_PLAYER, 1)
COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("日常フェラ")) += AUTO_N_TYPE_状態異常(MAIN_PLAYER, 1)
IF ABL:MAIN_TARGET:性知識 >= 1 || ABL:MAIN_PLAYER:性知識 < 3
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("性の知識を教える") = -1
ENDIF
IF ABL:MAIN_PLAYER:性知識 >= 1 && ABL:MAIN_TARGET:性知識 < 3
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("性の知識を教える")) = -1
ENDIF
IF !CFLAG:MAIN_TARGET:妊娠期間
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("お腹の音を聴く") = -1
ENDIF
IF !CFLAG:MAIN_PLAYER:妊娠期間
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("お腹の音を聴く")) = -1
ENDIF
IF !TALENT:MAIN_PLAYER:合意
	COM_AUTO_COM_PRIORITY:GET_TRAINNUM("日常フェラ") = -1
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("日常フェラ")) = -1
ENDIF

;不機嫌補正
IF GROUPMATCH(TOSTR_EMOTION(MAIN_PLAYER), "憂", "悲", "鬱", "恨", "怒", "憤", "怯")
	COM_AUTO_COM_PRIORITY:(ADD_NUM_対象が実行 + GET_TRAINNUM("会話")) += 300000
ENDIF

[IF_DEBUG]
;DEBUGPRINTFORML 
;DEBUGPRINTFORML #### DEBUG コマンド優先度登録チェック
FOR L_COUNTER, 300, 500
	SIF TRAINNAME:L_COUNTER == ""
		CONTINUE
		;主人公がプレイヤーのとき限定のもの、特殊なもの
	SIF GROUPMATCH(L_COUNTER, GET_TRAINNUM("会話"), GET_TRAINNUM("武術訓練"), GET_TRAINNUM("護身術"), GET_TRAINNUM("兵法学習"), GET_TRAINNUM("政務"), GET_TRAINNUM("警邏"), GET_TRAINNUM("歌唱訓練"), GET_TRAINNUM("料理"), GET_TRAINNUM("猥談"), GET_TRAINNUM("二人で出掛ける"), GET_TRAINNUM("告白する"), GET_TRAINNUM("なりゆきまかせ"))
		CONTINUE
	SIF COM_AUTO_COM_PRIORITY:L_COUNTER != 0
		CONTINUE
;DEBUGPRINTFORML {L_COUNTER, 4}.%@"%TRAINNAME:L_COUNTER%する", 26, LEFT% 未指定です
NEXT
FOR L_COUNTER, ADD_NUM_対象が実行 + 300, ADD_NUM_対象が実行 + 500
	SIF TRAINNAME:(L_COUNTER - ADD_NUM_対象が実行) == ""
		CONTINUE
	SIF GROUPMATCH(L_COUNTER - ADD_NUM_対象が実行, GET_TRAINNUM("告白する"), GET_TRAINNUM("なりゆきまかせ"))
		CONTINUE
	SIF COM_AUTO_COM_PRIORITY:L_COUNTER != 0
		CONTINUE
;DEBUGPRINTFORML {L_COUNTER, 4}.%@"%TRAINNAME:(L_COUNTER - ADD_NUM_対象が実行)%させる", 26, LEFT% 未指定です
NEXT
[ENDIF]

[IF_DEBUG]
;DEBUGPRINTFORML 
;DEBUGPRINTFORML #### #### DEBUG コマンド優先度 禁止前
FOR L_COUNTER, 0, ADD_NUM_対象が実行
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:L_COUNTER, 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
	ENDIF
NEXT
FOR L_COUNTER, ADD_NUM_対象が実行, ADD_NUM_対象が実行 + 1000
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:(L_COUNTER - ADD_NUM_対象が実行), 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
	ENDIF
NEXT
[ENDIF]

;-------------------------------------------------
;## 前回実行コマンド
;	優先度を1/4にする
;-------------------------------------------------
IF TFLAG:55 != 0
	IF PREVCOM_TYPE == 0 && COM_AUTO_COM_PRIORITY:(PREVCOM + ADD_NUM_対象が実行) != 0
		COM_AUTO_COM_PRIORITY:(PREVCOM + ADD_NUM_対象が実行) /= 4
	ELSEIF COM_AUTO_COM_PRIORITY:PREVCOM != 0
		COM_AUTO_COM_PRIORITY:PREVCOM /= 4
	ENDIF
ENDIF

;-------------------------------------------------
;## 選択不可能
;	判定用フラグをオンにして、実行可否のみ確かめ
;	不可なら優先度を0にする
;-------------------------------------------------
RAND_NUM = 0
IF GROUPMATCH(TOSTR_EMOTION(MAIN_PLAYER), "憂", "悲", "鬱", "恨", "怒", "憤", "怯")
	RAND_NUM = RAND:500
ENDIF
IF RAND:(ABL:MASTER:主導度Ｎ + 2000) >= RAND:(ABL:MAIN_PLAYER:主導度Ｎ + 2000) + RAND_NUM
	FLAG:主導権所有者 = MASTER
ELSE
	FLAG:主導権所有者 = MAIN_PLAYER
ENDIF

;コマンド判定フラグON
COM_ENABLE = 1

;0～999は主人公がターゲット
CALL CLEAR_MPLY()
CALL CLEAR_MTAR()
CALL ADD_MPLY(MAIN_PLAYER)
CALL ADD_MTAR(MASTER)
FOR L_COUNTER, 0, 1000
	SIF L_COUNTER > VARSIZE("TRAINNAME")
		CONTINUE
	SIF TRAINNAME:L_COUNTER == ""
		CONTINUE
	RESULT = 0
	TRYCALLFORM COM_ABLE{L_COUNTER}
	IF !RESULT
		COM_AUTO_COM_PRIORITY:L_COUNTER = 0
	ENDIF
NEXT

CALL CLEAR_MPLY()
CALL CLEAR_MTAR()
CALL ADD_MPLY(MASTER)
CALL ADD_MTAR(MAIN_PLAYER)
FOR L_COUNTER, 0, 1000
	SIF L_COUNTER > VARSIZE("TRAINNAME")
		CONTINUE
	SIF TRAINNAME:L_COUNTER == ""
		CONTINUE
	RESULT = 0
	TRYCALLFORM COM_ABLE{L_COUNTER}
	IF !RESULT
		COM_AUTO_COM_PRIORITY:(L_COUNTER + 1000) = 0
	ENDIF
NEXT

[IF_DEBUG]
;DEBUGPRINTFORML 
;DEBUGPRINTFORML #### DEBUG コマンド優先度 COM_ABLEチェック後
FOR L_COUNTER, 0, ADD_NUM_対象が実行
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:L_COUNTER, 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
	ENDIF
NEXT
FOR L_COUNTER, 1000, ADD_NUM_対象が実行 + 1000
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:(L_COUNTER-1000), 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
	ENDIF
NEXT
[ENDIF]

;コマンド判定フラグOFF
COM_ENABLE = 0

;-------------------------------------------------
;## 正規化
;	コマンドの優先度をカテゴリごとの実行確率に合わせて設定
;-------------------------------------------------
VARSET COM_AUTO_COM_PRIORITY_SUM, 0
VARSET COM_AUTO_COM_CATEGORY_COM_NUM, 0

;すべてのカテゴリの優先度を合計
COM_AUTO_CATEGORY_PRIORITY_SUM = 0
FOR L_COUNTER, 0, COM_AUTO_CATEGORY_LIKE_MAX + 1
	COM_AUTO_CATEGORY_PRIORITY_SUM += MAX(COM_AUTO_CATEGORY_PRIORITY:L_COUNTER, 0)
NEXT
;１以上あれば
IF COM_AUTO_CATEGORY_PRIORITY_SUM >= 1
	FOR L_COUNTER, 0, COM_AUTO_CATEGORY_LIKE_MAX + 1
		COM_AUTO_CATEGORY_PRIORITY:L_COUNTER = COM_AUTO_CATEGORY_PRIORITY:L_COUNTER * 10000 / COM_AUTO_CATEGORY_PRIORITY_SUM
	NEXT
;なければ暫定で増やす
ELSE
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_LIKE_0 = 10000
ENDIF

FOR L_COUNTER, 0, ADD_NUM_対象が実行 + 1000
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
		;このコマンドが在籍するカテゴリのコマンド数を保存
		COM_AUTO_COM_CATEGORY_COM_NUM:(COM_AUTO_COM_CATEGORY:L_COUNTER) ++
		;各コマンドの優先度をカテゴリごとに合計
		COM_AUTO_COM_PRIORITY_SUM:(COM_AUTO_COM_CATEGORY:L_COUNTER) += MAX(COM_AUTO_COM_PRIORITY:L_COUNTER, 0)
	ENDIF
NEXT

;実行可能コマンドの多いカテゴリばかりが高優先度になりにくいように
;カテゴリ内のコマンド優先度合計値をコマンド数で割る
FOR L_COUNTER, 0, COM_AUTO_CATEGORY_LIKE_MAX + 1
	IF COM_AUTO_COM_PRIORITY_SUM:L_COUNTER > 0 && COM_AUTO_COM_CATEGORY_COM_NUM:L_COUNTER > 0
		COM_AUTO_COM_PRIORITY_SUM:L_COUNTER = COM_AUTO_COM_PRIORITY_SUM:L_COUNTER / COM_AUTO_COM_CATEGORY_COM_NUM:L_COUNTER
	ENDIF
NEXT

FOR L_COUNTER, 0, ADD_NUM_対象が実行 + 1000
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
		IF COM_AUTO_COM_PRIORITY_SUM:(COM_AUTO_COM_CATEGORY:L_COUNTER) >= 1 && COM_AUTO_CATEGORY_PRIORITY:(COM_AUTO_COM_CATEGORY:L_COUNTER) >= 1
			;カテゴリ優先度*100/優先度合計値
			COM_AUTO_COM_PRIORITY:L_COUNTER = COM_AUTO_COM_PRIORITY:L_COUNTER * COM_AUTO_CATEGORY_PRIORITY:(COM_AUTO_COM_CATEGORY:L_COUNTER) * 100 / COM_AUTO_COM_PRIORITY_SUM:(COM_AUTO_COM_CATEGORY:L_COUNTER)
		ELSE
			COM_AUTO_COM_PRIORITY:L_COUNTER = 0
		ENDIF
	ENDIF
NEXT

[IF_DEBUG]
;DEBUGPRINTFORML 
;DEBUGPRINTFORML #### DEBUG カテゴリ優先度 正規化後
FOR L_COUNTER, 1, COM_AUTO_CATEGORY_LIKE_MAX + 1
	IF COM_AUTO_CATEGORY_PRIORITY:L_COUNTER
;DEBUGPRINTFORML {L_COUNTER, 4}.%COM_AUTO_N_COM_CATEGORY_NAME(L_COUNTER), 26, LEFT%.%NUM_FORMAT(COM_AUTO_CATEGORY_PRIORITY:L_COUNTER), 10, RIGHT%
	ENDIF
NEXT

;	DEBUGPRINTFORML 
;	DEBUGPRINTFORML #### コマンド優先度 正規化後
;	FOR L_COUNTER, 300, ADD_NUM_対象が実行
;		IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;			DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:L_COUNTER, 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
;		ENDIF
;	NEXT
;	FOR L_COUNTER, 1300, ADD_NUM_対象が実行 + 1000
;		IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;			DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:(L_COUNTER - ADD_NUM_対象が実行), 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
;		ENDIF
;	NEXT
[ENDIF]

;-------------------------------------------------
;## コマンドフィルタの反映
;-------------------------------------------------
FOR L_COUNTER, 0, ADD_NUM_対象が実行
	IF COM_FILTER:L_COUNTER
		COM_AUTO_COM_PRIORITY:L_COUNTER = 0
		COM_AUTO_COM_PRIORITY:(L_COUNTER + ADD_NUM_対象が実行) = 0
	ENDIF
NEXT

[IF_DEBUG]
;DEBUGPRINTFORML 
;DEBUGPRINTFORML #### DEBUG コマンド優先度 最終
FOR L_COUNTER, 0, ADD_NUM_対象が実行
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:L_COUNTER, 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
	ENDIF
NEXT
FOR L_COUNTER, ADD_NUM_対象が実行, ADD_NUM_対象が実行 + 1000
	IF COM_AUTO_COM_PRIORITY:L_COUNTER > 0
;DEBUGPRINTFORML {L_COUNTER, 4}.%TRAINNAME:(L_COUNTER - ADD_NUM_対象が実行), 20, LEFT% %NUM_FORMAT(COM_AUTO_COM_PRIORITY:L_COUNTER), 10, RIGHT%
	ENDIF
NEXT
[ENDIF]

RETURN 0
