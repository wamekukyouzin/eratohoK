;-------------------------------------------------
;# 01 COM_CATEGORY_NUM 愛撫する
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_1(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する && (GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_愛撫したい) || GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_奉仕したい))
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_自警団
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫する *= 2
ENDIF

RETURN 0

;-------------------------------------------------
;# 02 COM_AUTO_CATEGORY_NUM_性交する
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_2(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET
#DIM COM_AUTO_CHECK_FLAG_IS_CATEGORY	;可否フラグ
#DIM FALLEN_FLAG

FALLEN_FLAG = IS_FALLEN_TO_SP_COUNTRY(MAIN_PLAYER) && FLAG:調教モード == 調教_逆調教特殊

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 可否チェック
;-------------------------------------------------
;可否チェックリセット
VARSET COM_AUTO_CHECK_FLAG_IS_CATEGORY
;潤滑追加チェックリセット
VARSET COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH
;-------------------------------------------------
;### 対象が慰安モブや特殊勢力
;	特殊勢力の場合、サキュバスや自警団は除く
;-------------------------------------------------
IF CHECK_SP_SADIST_CHARA(MAIN_PLAYER) || GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚,  慰安_キャラ_馬, 慰安_キャラ_猿)
	;---------------------------------------------
	;対象男性・実行女性
	;---------------------------------------------
	IF IS_MALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;対象の潤滑・実行の倒錯度800以上・実行の主導度Ｕ800以上・実行のサドが必要
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 800  - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 800 - FALLEN_FLAG * 300 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_サド)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 800 && ABL:MAIN_PLAYER:主導度Ｕ >= 800 - FALLEN_FLAG * 300 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_サド)
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性・実行男性
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑・実行の倒錯度500以上・実行の主導度Ｕ500以上
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 500 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 500 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 500 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 500 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性・実行女性　
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;対象の潤滑・実行の倒錯度100以上・実行の主導度Ｕ100以上
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 300 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 100 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性・実行男性
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑
		IF  COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) 
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件を達成する
		ELSE
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
;-------------------------------------------------
;### 対象が慰安モブや特殊勢力でない
;	または特殊勢力であってもサキュバスや自警団
;-------------------------------------------------
ELSE
	;---------------------------------------------
	;対象男性＆実行女性 逆転するので最も倒錯度と主導度Ｕを要する
	;---------------------------------------------
	IF IS_MALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;対象の潤滑が不十分ならサド気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 500 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 500 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら、実行の倒錯度300以上・実行の主導度Ｕ300以上
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 300 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 300 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 300 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 300 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性＆実行男性 男役を好む
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑が不十分ならサド気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 300 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら、実行の主導度Ｕ-100以上
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:主導度Ｕ >= -100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSEIF ABL:MAIN_PLAYER:主導度Ｕ >= -100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性＆実行女双 男役を好む
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER) && HAS_PENIS(MAIN_PLAYER)
		;対象の潤滑が不十分ならサド気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 300 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら、実行の主導度Ｕ-100以上
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:主導度Ｕ >= -100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSEIF ABL:MAIN_PLAYER:主導度Ｕ >= -100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性＆実行女性 女役を好む
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;対象の潤滑が不十分ならサド気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 300 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 500 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら、実行の倒錯度100以上・実行の主導度Ｕ100以上
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 100 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性＆実行男性
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;対象の潤滑が不十分なら、実行の倒錯度100以上・実行の主導度Ｕ100以上
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET) && ABL:MAIN_PLAYER:倒錯度 >= 100 - FALLEN_FLAG * 300 && ABL:MAIN_PLAYER:主導度Ｕ >= 100 - FALLEN_FLAG * 300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑が充分なら無条件
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;対象の潤滑を満たせば条件が達成される
		ELSE
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
ENDIF
;-------------------------------------------------
;## 性的嗜好補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_性交したい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_ホフゴブリン
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_サキュバス
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	挿入状態補正	@IS_INSERT_MUTUAL	3=ARG:1がARG:0のＶに挿入	4=ARG:1がARG:0のＡに挿入
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && GROUPMATCH(IS_INSERT_MUTUAL(MAIN_PLAYER, MAIN_TARGET), 3, 4)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する /= 2
ENDIF
;	ターン数補正 初めの５ターンくらいは他の行動をとりやすい
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && TFLAG:55 < 5
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する /= 10
ENDIF
;	コンフィグ設定補正 男主人公への逆調教の傾向が我慢させる
;	竿を弄らない設定とコメントされていて性交制限されていたので、雌化かと思い後ろは積極に掘るようにしてみる
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && CONFIG:8 == 1 && MAIN_TARGET == MASTER && HAS_PENIS(MAIN_TARGET) && GROUPMATCH(FLAG:調教モード, 調教_逆調教特殊, 調教_逆調教通常, 調教_慰安)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する *= 2
ENDIF
;	疲労
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する > 0 && BASE:MAIN_PLAYER:体力 <= MAXBASE:MAIN_PLAYER:体力 / 2
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する /= 10
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !COM_AUTO_CHECK_FLAG_IS_CATEGORY
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交する = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 03 COM_AUTO_CATEGORY_NUM_潤滑追加する
;	性交できないとき、避妊できないときの受け皿にも
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_3(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する > 0  && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_性交したい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する *= 3
ENDIF
;-------------------------------------------------
;## 特殊勢力補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_ホフゴブリン
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する *= 2
ENDIF
;-------------------------------------------------
;## 陥落傾向補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する *= 2
ENDIF
;-------------------------------------------------
;## 特殊素質補正
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	濡れが足りない
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する > 0 && !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_TARGET)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する *= 3
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加する = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 04 COM_AUTO_CATEGORY_NUM_避妊する
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_4(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_性交したい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	技師
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
;	特殊勢力や慰安モブ等の攻めキャラあるいは動物
IF CHECK_SP_SADIST_CHARA(MAIN_PLAYER) || GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する = -1
ENDIF
;	実行にＰがない、対象にＶがない
IF !HAS_PENIS(MAIN_PLAYER) || !HAS_VAGINA(MAIN_TARGET)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊する = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 05 COM_AUTO_CATEGORY_NUM_道具使う
;	同所属・倒錯度100以上・主導度Ｕ100以上
;	違所属・無条件
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_5(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_道具を使いたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_外来人
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	技師
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う *= 2
ENDIF
;	道具使用の指定されていた慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う > 0 && TALENT:MAIN_PLAYER:慰安モブ == 慰安_キャラ_妖精
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使う = -1
		ENDIF
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 06 COM_AUTO_CATEGORY_NUM_加虐する
;	同所属・倒錯度300以上・主導度Ｕ300以上
;	違所属・倒錯度100以上・主導度Ｕ100以上
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_6(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_虐げたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_狂信者
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	主導度Ｕが高く設定されていた慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する > 0 && GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_天狗, 慰安_キャラ_野盗, 慰安_キャラ_月人)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する *= 2
ENDIF
;## 不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ < 300
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_加虐する = -1
		ENDIF
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 07 COM_AUTO_CATEGORY_NUM_酷く加虐する
;	攻め役特殊キャラは除く
;	同所属・倒錯度800以上・主導度Ｕ800以上・サド
;	違所属・倒錯度500以上・主導度Ｕ500以上
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_7(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く加虐する = GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く加虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く加虐する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_虐げたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く加虐する *= 3
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF !GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_サド) || ABL:MAIN_PLAYER:倒錯度 < 800 || ABL:MAIN_PLAYER:主導度Ｕ < 800
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く加虐する = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 500 || ABL:MAIN_PLAYER:主導度Ｕ < 500
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く加虐する = -1
		ENDIF
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 08 COM_AUTO_CATEGORY_NUM_露出する
;	倒錯度300以上 主導度Ｕ-300未満
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_8(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する > 0  && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_露出したい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_野盗
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	名前通りの慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する > 0 && TALENT:MAIN_PLAYER:慰安モブ == 慰安_キャラ_露出狂
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF CHECK_SP_SADIST_CHARA(MAIN_PLAYER) && TALENT:MAIN_PLAYER:慰安モブ != 慰安_キャラ_露出狂
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する = -1
ENDIF
IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ >= -300
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出する = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 09 COM_AUTO_CATEGORY_NUM_小排泄する
;	排泄1・倒錯度100以上・主導度Ｕが-100未満か主導度が100以上
;	陥落傾向がＳかＭか判別しにくいのでどっちでも
;	四足歩行の動物は制限しない
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_9(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_辱められたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する *= 3
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_野盗
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する > 0 && TALENT:MAIN_PLAYER:慰安モブ == 慰安_キャラ_露出狂
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する *= 2
ENDIF
;## 不可
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF !GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
		IF ABL:MAIN_PLAYER:排泄 < 1 || ABL:MAIN_PLAYER:倒錯度 < 100 || (ABL:MAIN_PLAYER:主導度Ｕ > -100 && ABL:MAIN_PLAYER:主導度Ｕ < 100)
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄する = -1
		ENDIF
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 10 COM_AUTO_CATEGORY_NUM_大排泄する
;	排泄2・倒錯度300以上・主導度Ｕが-300未満か主導度が300以上
;	陥落傾向がＳかＭか判別しにくいのでどっちでも
;	四足歩行の動物は制限しない
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_10(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_辱められたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する *= 3
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_野盗
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	慰安モブ
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する > 0 && TALENT:MAIN_PLAYER:慰安モブ == 慰安_キャラ_露出狂
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF !GROUPMATCH(TALENT:MAIN_PLAYER:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
		IF ABL:MAIN_PLAYER:排泄 < 2 || ABL:MAIN_PLAYER:倒錯度 < 300 || (ABL:MAIN_PLAYER:主導度Ｕ > -300 && ABL:MAIN_PLAYER:主導度Ｕ < 300)
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄する = -1
		ENDIF
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 11 COM_AUTO_CATEGORY_NUM_触手を扱う
;	同勢力・妖術知識・倒錯度500以上・主導度Ｕ500以上
;	違勢力・妖術知識・倒錯度300以上・主導度Ｕ300以上
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_11(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う += AUTO_N_TYPE_魅了(MASTER, 0)

;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_触手で犯したい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_触手
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う *= 5
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !TALENT:MAIN_PLAYER:妖術知識
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う = -1
ENDIF
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 500 || ABL:MAIN_PLAYER:主導度Ｕ < 500
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ < 300
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱う = -1
		ENDIF
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 12 COM_AUTO_CATEGORY_NUM_愛撫させる
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_12(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる > 0 && (GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_愛撫されたい) || GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_奉仕されたい))
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_自警団
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_愛撫させる *= 2
ENDIF

RETURN 0

;-------------------------------------------------
;# 13 COM_AUTO_CATEGORY_NUM_性交させる
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_13(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET
#DIM COM_AUTO_CHECK_FLAG_IS_CATEGORY	;可否フラグ

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる += AUTO_N_TYPE_魅了(MASTER, 0)
;-------------------------------------------------
;## 可否チェック
;-------------------------------------------------
;可否チェックリセット
VARSET COM_AUTO_CHECK_FLAG_IS_CATEGORY
;潤滑追加チェックリセット
VARSET COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH
;-------------------------------------------------
;### 対象が慰安モブや特殊勢力
;	特殊勢力の場合、サキュバスや自警団は除く
;-------------------------------------------------
IF CHECK_SP_SADIST_CHARA(MAIN_TARGET) || GROUPMATCH(TALENT:MAIN_TARGET:慰安モブ, 慰安_キャラ_犬, 慰安_キャラ_豚, 慰安_キャラ_馬, 慰安_キャラ_猿)
	;---------------------------------------------
	;実行男性
	;---------------------------------------------
	IF IS_MALE(MAIN_PLAYER)
		;実行の潤滑・実行の倒錯度800以上・実行の主導度Ｕ-800未満・実行のマゾが必要
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 800 && ABL:MAIN_PLAYER:主導度Ｕ < -800 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_マゾ)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 800 && ABL:MAIN_PLAYER:主導度Ｕ < -800 && GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_マゾ)
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;実行女性
	;---------------------------------------------
	ELSE
		;実行の潤滑
		IF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) 
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSE
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
;-------------------------------------------------
;### 対象が慰安モブや特殊勢力でない
;	または特殊勢力であってもサキュバスや自警団
;-------------------------------------------------
ELSE
	;-------------------------------------------------
	;対象女性＆実行男性 逆転するので最も倒錯度と主導度Ｕマイナスを要する
	;-------------------------------------------------
	IF IS_FEMALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 500 && ABL:MAIN_PLAYER:主導度Ｕ < -500
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら、実行の倒錯度300以上・実行の主導度Ｕ-300未満
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性＆実行男性 男役を好む
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_MALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 300 && ABL:MAIN_PLAYER:主導度Ｕ < -500
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら、実行の倒錯度100以上・実行の主導度Ｕ-100未満
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象女性＆実行女性 女役を好む
	;---------------------------------------------
	ELSEIF IS_FEMALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -300
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら、実行の主導度Ｕ100未満
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSEIF ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	;---------------------------------------------
	;対象男性＆実行女性
	;---------------------------------------------
	ELSEIF IS_MALE(MAIN_TARGET) && IS_FEMALE(MAIN_PLAYER)
		;自分の潤滑が不十分ならならマゾ気が必要
		IF !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER) && ABL:MAIN_PLAYER:倒錯度 >= 100 && ABL:MAIN_PLAYER:主導度Ｕ < -100
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;自分の潤滑が充分なら無条件
		ELSEIF COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER)
			COM_AUTO_CHECK_FLAG_IS_CATEGORY = 1
		;実行の潤滑を満たせば条件を達成する
		ELSE
			COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH = 1
		ENDIF
	ENDIF
ENDIF
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_性交されたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_サキュバス
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_ホフゴブリン
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	挿入状態 @IS_INSERT_MUTUAL	1=ARG:0がARG:1のＶに挿入	2=ARG:0がARG:1のＡに挿入
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる > 0 && GROUPMATCH(IS_INSERT_MUTUAL(MAIN_PLAYER, MAIN_TARGET), 1, 2)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる /= 2
ENDIF
;	疲労
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる > 0 && BASE:MAIN_PLAYER:体力 <= MAXBASE:MAIN_PLAYER:体力 / 2
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる /= 10
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !COM_AUTO_CHECK_FLAG_IS_CATEGORY
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる = -1
ENDIF
;	コンフィグ設定・男主人公への逆調教の傾向が我慢させる
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる > 0 && CONFIG:8 == 1 && MAIN_TARGET == MASTER && HAS_PENIS(MAIN_TARGET) && GROUPMATCH(FLAG:調教モード, 調教_逆調教特殊, 調教_逆調教通常, 調教_慰安)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_性交させる = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 14 COM_AUTO_CATEGORY_NUM_潤滑追加させる
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_14(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_性交されたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる *= 2
ENDIF
;-------------------------------------------------
;## 特殊素質
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる *= 2
ENDIF
;-------------------------------------------------
;## その他補正
;-------------------------------------------------
;	濡れが足りない
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる > 0 && !COM_AUTOSELECT_IS_WET_ENOUGH(MAIN_PLAYER)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる *= 3
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !COM_AUTO_CHECK_FLAG_IS_WET_ENOUGH
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_潤滑追加させる = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 15 COM_AUTO_CATEGORY_NUM_避妊させる
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_15(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_性交されたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる > 0 && TALENT:MAIN_PLAYER:恋慕
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる *= 2
ENDIF
;-------------------------------------------------
;## 特殊素質
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !HAS_PENIS(MAIN_TARGET) || !HAS_VAGINA(MAIN_PLAYER)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_避妊させる = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 16 COM_AUTO_CATEGORY_NUM_道具使わせる
;	同所属・無条件
;	違所属・倒錯度100以上・主導度Ｕ100以上
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_16(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_道具を使われたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_外来人
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる *= 2
ENDIF
;-------------------------------------------------
;## 特殊素質
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる > 0 && TALENT:MAIN_PLAYER:技師
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF CFLAG:MAIN_PLAYER:所属 != CFLAG:MAIN_TARGET:所属
	IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ >= -100
		COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_道具使わせる = -1
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 17 COM_AUTO_CATEGORY_NUM_被虐する
;	倒錯度300以上・主導度Ｕ-300未満
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_17(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_虐げられたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_狂信者
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ >= -300
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_被虐する = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 18 COM_AUTO_CATEGORY_NUM_酷く被虐する
;	倒錯度800以上・主導度Ｕ800以上・マゾ
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_18(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く被虐する = GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く被虐する += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く被虐する > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_虐げられたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く被虐する *= 3
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF ABL:MAIN_PLAYER:倒錯度 < 800 || ABL:MAIN_PLAYER:主導度Ｕ >= -800 && !GETBIT(TALENT:MAIN_PLAYER:淫乱系, 素質_淫乱_マゾ)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_酷く被虐する = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 19 COM_AUTO_CATEGORY_NUM_露出させる
;	同所属・倒錯度300以上・主導度Ｕ300以上
;	違所属・倒錯度100以上・主導度Ｕ100以上
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_19(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_辱めたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる > 0 && TALENT:MAIN_PLAYER:主人
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_野盗
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF CFLAG:MAIN_PLAYER:所属 == CFLAG:MAIN_TARGET:所属
		IF ABL:MAIN_PLAYER:倒錯度 < 300 || ABL:MAIN_PLAYER:主導度Ｕ < 300
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる = -1
		ENDIF
	ELSE
		IF ABL:MAIN_PLAYER:倒錯度 < 100 || ABL:MAIN_PLAYER:主導度Ｕ < 100
			COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_露出させる = -1
		ENDIF
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 20 COM_AUTO_CATEGORY_NUM_小排泄させる
;	排泄1・倒錯度100以上・主導度Ｕが-100未満か主導度が100以上
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_20(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる > 0 && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_辱めたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる *= 3
ENDIF
;-------------------------------------------------
;## 特殊勢力
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_狂信者
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF ABL:MAIN_PLAYER:排泄 < 1 || ABL:MAIN_PLAYER:倒錯度 < 100 || (ABL:MAIN_PLAYER:主導度Ｕ >= -100 && ABL:MAIN_PLAYER:主導度Ｕ < 100)
		COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_小排泄させる = -1
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 21 COM_AUTO_CATEGORY_NUM_大排泄させる
;	排泄2・倒錯度300以上・主導度Ｕが-300未満か主導度が300以上
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_21(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる > 0  && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_辱めたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる *= 3
ENDIF
;-------------------------------------------------
;## 特殊勢力
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる > 0 && TALENT:MAIN_PLAYER:特殊勢力素質 == 特殊勢力_狂信者
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !CHECK_SP_SADIST_CHARA(MAIN_PLAYER)
	IF ABL:MAIN_PLAYER:排泄 < 2 || ABL:MAIN_PLAYER:倒錯度 < 300 || (ABL:MAIN_PLAYER:主導度Ｕ >= -300 && ABL:MAIN_PLAYER:主導度Ｕ < 300)
		COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_大排泄させる = -1
	ENDIF
ENDIF

RETURN 0

;-------------------------------------------------
;# 22 COM_AUTO_CATEGORY_NUM_触手を扱わせる
;	妖術知識・倒錯度500以上・主導度Ｕ-500未満
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_22(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += GET_INITIATIVE_U_RANK(MAIN_PLAYER) * -1 * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += GET_PERVERSION_RANK(MAIN_PLAYER) * 5
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_活発(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_大人しい(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_クール(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_凛とした(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_遊び人(MAIN_PLAYER, 1)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_魅了(MAIN_PLAYER, 0)
COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる += AUTO_N_TYPE_魅了(MASTER, 1)
;-------------------------------------------------
;## 性的嗜好
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる > 0  && GETBIT(SEXUAL_PREFERENCE:MAIN_PLAYER:0, 性的嗜好_触手で犯されたい)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる *= 3
ENDIF
;-------------------------------------------------
;## 陥落傾向
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる > 0 && TALENT:MAIN_PLAYER:服従
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる *= 2
ENDIF
;-------------------------------------------------
;## 特殊勢力陥落
;-------------------------------------------------
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる > 0 && TALENT:MAIN_PLAYER:特殊勢力陥落系 == 特殊勢力_触手
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる *= 2
ENDIF
;-------------------------------------------------
;## 不可
;-------------------------------------------------
IF !TALENT:MAIN_TARGET:妖術知識
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる = -1
ENDIF
IF ABL:MAIN_PLAYER:倒錯度 < 500 || ABL:MAIN_PLAYER:主導度Ｕ >= -500
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_触手を扱わせる = -1
ENDIF

RETURN 0

;-------------------------------------------------
;# 23 COM_AUTO_CATEGORY_NUM_説得
;-------------------------------------------------
@COM_AUTOSELECT_SET_CATEGORY_PRIORITY_23(MAIN_PLAYER, MAIN_TARGET)
#DIM MAIN_PLAYER
#DIM MAIN_TARGET
#DIM L_COUNTER
#DIM L_COUNTER_CHECK

;-------------------------------------------------
;## 基礎
;-------------------------------------------------
;TFLAG:55 現在時間
IF FLAG:調教モード == 調教_逆調教通常 && CFLAG:MAIN_PLAYER:所属 != CFLAG:MAIN_TARGET:所属 && TFLAG:55 >= 5 && FLAG:勧誘経過期間 > 3
	L_COUNTER_CHECK = 4
	FOR L_COUNTER, 0, COM_AUTO_CATEGORY_NUM_MAX + 1
		L_COUNTER_CHECK += MAX(COM_AUTO_CATEGORY_PRIORITY:L_COUNTER, 0)
	NEXT
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_説得 = LIMIT(FLAG:勧誘経過期間 * 20, 0, 90)
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_説得 = L_COUNTER_CHECK * COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_説得 / (100 - COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_説得)
ELSE
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_説得 = -1
ENDIF
IF COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_説得 <= 0
	COM_AUTO_CATEGORY_PRIORITY:COM_AUTO_CATEGORY_NUM_説得 = -1
ENDIF

DEBUGPRINTFORML      FLAG:勧誘経過期間 {FLAG:勧誘経過期間}期

RETURN 0

