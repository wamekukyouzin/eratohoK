;MASTER専用のソース計算

;-------------------------------------------------
;快Ｃのソース
;-------------------------------------------------
@CALC_SOURCE_MASTER0(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):快Ｃ
LOCAL:5 = SOURCE:(ARG:0):快Ｃ
LOCAL:6 = SOURCE:(ARG:0):快Ｃ

SELECTCASE ABL:(ARG:0):Ｃ感
	CASE 0
		TIMES LOCAL:0, 0.04
		TIMES LOCAL:5, 0.70
	CASE 1
		TIMES LOCAL:0, 0.20
		TIMES LOCAL:5, 0.85
	CASE 2
		TIMES LOCAL:0, 1.00
		TIMES LOCAL:5, 1.00
	CASE 3
		TIMES LOCAL:0, 2.30
		TIMES LOCAL:5, 1.15
	CASE 4
		TIMES LOCAL:0, 4.00
		TIMES LOCAL:5, 1.30
	CASEELSE
		LOCAL:0 = LOCAL:0 * ((ABL:(ARG:0):Ｃ感 - 5) * 50 + 550) / 100
		LOCAL:5 = LOCAL:5 * ((ABL:(ARG:0):Ｃ感 - 5) * 10 + 140) / 100
ENDSELECT

IF TALENT:(ARG:0):Ｃ敏感
	TIMES LOCAL:0, 2.00
	TIMES LOCAL:5, 1.50
ENDIF

IF TALENT:(ARG:0):Ｃ鈍感
	TIMES LOCAL:0, 0.50
	TIMES LOCAL:5, 0.75
ENDIF

IF GETBIT(TALENT:(ARG:0):淫乱系, 素質_淫乱_淫核)
	TIMES LOCAL:0, 1.50
	TIMES LOCAL:5, 1.50
ENDIF

;媚薬使用中
IF TCVAR:(ARG:0):60
	TIMES LOCAL:0, 2.50
	TIMES LOCAL:5, 2.00
ENDIF

;桃源香使用中
IF TFLAG:69
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:5, 1.25
ENDIF

;体力0による行動不能
IF TCVAR:(ARG:0):51
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

;気力0による失神中
IF TCVAR:(ARG:0):52
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

IF HAS_PENIS(ARG:0)
	CUP:(ARG:0):射精 += LOCAL:5 / 5
ENDIF

IF HAS_VAGINA(ARG:0)
	CUP:(ARG:0):潤滑 += LOCAL:5 / 3
ENDIF

CUP:(ARG:0):快Ｃ += LOCAL:0
CUP:(ARG:0):潮吹き += SQRT(LOCAL:0 * 400)

;-------------------------------------------------
;快Ｐのソース
;-------------------------------------------------
@CALC_SOURCE_MASTER9(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):快Ｐ
LOCAL:5 = SOURCE:(ARG:0):快Ｐ

SELECTCASE ABL:(ARG:0):Ｃ感
	CASE 0
		TIMES LOCAL:0, 0.04
		TIMES LOCAL:5, 0.70
	CASE 1
		TIMES LOCAL:0, 0.20
		TIMES LOCAL:5, 0.85
	CASE 2
		TIMES LOCAL:0, 1.00
		TIMES LOCAL:5, 1.00
	CASE 3
		TIMES LOCAL:0, 2.30
		TIMES LOCAL:5, 1.15
	CASE 4
		TIMES LOCAL:0, 4.00
		TIMES LOCAL:5, 1.30
	CASEELSE
		LOCAL:0 = LOCAL:0 * ((ABL:(ARG:0):Ｃ感 - 5) * 50 + 550) / 100
		LOCAL:5 = LOCAL:5 * ((ABL:(ARG:0):Ｃ感 - 5) * 10 + 140) / 100
ENDSELECT

IF TALENT:(ARG:0):Ｃ敏感
	TIMES LOCAL:0, 2.00
	TIMES LOCAL:5, 1.50
	TIMES LOCAL:6, 1.50
ENDIF

IF TALENT:(ARG:0):Ｃ鈍感
	TIMES LOCAL:0, 0.50
	TIMES LOCAL:5, 0.75
	TIMES LOCAL:6, 0.75
ENDIF

IF GETBIT(TALENT:(ARG:0):淫乱系, 素質_淫乱_淫核)
	TIMES LOCAL:0, 1.50
	TIMES LOCAL:5, 1.50
	TIMES LOCAL:6, 1.50
ENDIF

;媚薬使用中
IF TCVAR:(ARG:0):60
	TIMES LOCAL:0, 2.50
	TIMES LOCAL:5, 2.00
ENDIF

;桃源香使用中
IF TFLAG:69
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:5, 1.25
ENDIF

;体力0による行動不能
IF TCVAR:(ARG:0):51
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

;気力0による失神中
IF TCVAR:(ARG:0):52
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

IF HAS_PENIS(ARG:0)
	CUP:(ARG:0):射精 += LOCAL:5
ENDIF

IF HAS_VAGINA(ARG:0)
	CUP:(ARG:0):潤滑 += LOCAL:5 / 3
ENDIF

CUP:(ARG:0):快Ｃ += LOCAL:0 / 15

;-------------------------------------------------
;快Ｖのソース
;-------------------------------------------------
@CALC_SOURCE_MASTER1(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):快Ｖ
LOCAL:5 = SOURCE:(ARG:0):快Ｖ

SELECTCASE ABL:(ARG:0):Ｖ感
	CASE 0
		TIMES LOCAL:0, 0.08
		TIMES LOCAL:5, 0.60
	CASE 1
		TIMES LOCAL:0, 0.30
		TIMES LOCAL:5, 0.80
	CASE 2
		TIMES LOCAL:0, 1.40
		TIMES LOCAL:5, 1.00
	CASE 3
		TIMES LOCAL:0, 3.00
		TIMES LOCAL:5, 1.20
	CASE 4
		TIMES LOCAL:0, 5.00
		TIMES LOCAL:5, 1.40
	CASEELSE
		LOCAL:0 = LOCAL:0 * ((ABL:(ARG:0):Ｖ感 - 5) * 60 + 600) / 100
		LOCAL:5 = LOCAL:5 * ((ABL:(ARG:0):Ｖ感 - 5) * 10 + 160) / 100
ENDSELECT

IF TALENT:(ARG:0):Ｖ敏感
	TIMES LOCAL:0, 2.00
	TIMES LOCAL:5, 1.50
ENDIF

IF TALENT:(ARG:0):Ｖ鈍感
	TIMES LOCAL:0, 0.50
	TIMES LOCAL:5, 0.75
ENDIF

IF GETBIT(TALENT:(ARG:0):淫乱系, 素質_淫乱_淫壷)
	TIMES LOCAL:0, 2.00
ENDIF

;媚薬使用中
IF TCVAR:(ARG:0):60
	TIMES LOCAL:0, 2.50
	TIMES LOCAL:5, 2.00
ENDIF

;桃源香使用中
IF TFLAG:69
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:5, 1.25
ENDIF

;体力0による行動不能
IF TCVAR:(ARG:0):51
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

;気力0による失神中
IF TCVAR:(ARG:0):52
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

CUP:(ARG:0):快Ｖ += LOCAL:0
CUP:(ARG:0):潮吹き += SQRT(LOCAL:0 * 400)

IF HAS_PENIS(ARG:0)
	CUP:(ARG:0):射精 += LOCAL:5 / 2
ENDIF

IF HAS_VAGINA(ARG:0)
	CUP:(ARG:0):潤滑 += LOCAL:5 / 3
ENDIF

;-------------------------------------------------
;快Ａのソース
;-------------------------------------------------
@CALC_SOURCE_MASTER2(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):快Ａ
LOCAL:5 = SOURCE:(ARG:0):快Ａ

SELECTCASE ABL:(ARG:0):Ａ感
	CASE 0
		TIMES LOCAL:0, 0.04
		TIMES LOCAL:5, 0.60
	CASE 1
		TIMES LOCAL:0, 0.20
		TIMES LOCAL:5, 0.80
	CASE 2
		TIMES LOCAL:0, 0.80
		TIMES LOCAL:5, 1.00
	CASE 3
		TIMES LOCAL:0, 2.60
		TIMES LOCAL:5, 1.20
	CASE 4
		TIMES LOCAL:0, 4.60
		TIMES LOCAL:5, 1.40
	CASEELSE
		LOCAL:0 = LOCAL:0 * ((ABL:(ARG:0):Ａ感 - 5) * 60 + 600) / 100
		LOCAL:5 = LOCAL:5 * ((ABL:(ARG:0):Ａ感 - 5) * 10 + 160) / 100
ENDSELECT

IF TALENT:(ARG:0):Ａ敏感
	TIMES LOCAL:0, 2.00
	TIMES LOCAL:5, 1.50
ENDIF

IF TALENT:(ARG:0):Ａ鈍感
	TIMES LOCAL:0, 0.50
	TIMES LOCAL:5, 0.75
ENDIF

IF GETBIT(TALENT:(ARG:0):淫乱系, 素質_淫乱_尻穴狂い)
	TIMES LOCAL:0, 1.50
	TIMES LOCAL:5, 1.50
ENDIF

;媚薬使用中
IF TCVAR:(ARG:0):60
	TIMES LOCAL:0, 2.50
	TIMES LOCAL:5, 2.00
ENDIF

;桃源香使用中
IF TFLAG:69
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:5, 1.25
ENDIF

;体力0による行動不能
IF TCVAR:(ARG:0):51
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

;気力0による失神中
IF TCVAR:(ARG:0):52
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

CUP:(ARG:0):快Ａ += LOCAL:0

IF HAS_PENIS(ARG:0)
	CUP:(ARG:0):射精 += LOCAL:5 / 2
ENDIF

IF HAS_VAGINA(ARG:0)
	CUP:(ARG:0):潤滑 += LOCAL:5 / 3
ENDIF

;-------------------------------------------------
;快Ｂのソース
;-------------------------------------------------
@CALC_SOURCE_MASTER3(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):快Ｂ
LOCAL:5 = SOURCE:(ARG:0):快Ｂ

SELECTCASE ABL:(ARG:0):Ｂ感
	CASE 0
		TIMES LOCAL:0, 0.04
		TIMES LOCAL:5, 0.60
	CASE 1
		TIMES LOCAL:0, 0.20
		TIMES LOCAL:5, 0.80
	CASE 2
		TIMES LOCAL:0, 1.00
		TIMES LOCAL:5, 1.00
	CASE 3
		TIMES LOCAL:0, 2.30
		TIMES LOCAL:5, 1.20
	CASE 4
		TIMES LOCAL:0, 4.00
		TIMES LOCAL:5, 1.40
	CASEELSE
		LOCAL:0 = LOCAL:0 * ((ABL:(ARG:0):Ｂ感 - 5) * 50 + 550) / 100
		LOCAL:5 = LOCAL:5 * ((ABL:(ARG:0):Ｂ感 - 5) * 10 + 160) / 100
ENDSELECT

IF TALENT:(ARG:0):Ｂ敏感
	TIMES LOCAL:0, 2.00
	TIMES LOCAL:5, 1.50
ENDIF

IF TALENT:(ARG:0):Ｂ鈍感
	TIMES LOCAL:0, 0.50
	TIMES LOCAL:5, 0.75
ENDIF

IF GETBIT(TALENT:(ARG:0):淫乱系, 素質_淫乱_淫乳)
	TIMES LOCAL:0, 1.50
	TIMES LOCAL:5, 1.50
ENDIF

;媚薬使用中
IF TCVAR:(ARG:0):60
	TIMES LOCAL:0, 2.50
	TIMES LOCAL:5, 2.00
ENDIF

;桃源香使用中
IF TFLAG:69
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:5, 1.25
ENDIF

;体力0による行動不能
IF TCVAR:(ARG:0):51
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

;気力0による失神中
IF TCVAR:(ARG:0):52
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

CUP:(ARG:0):快Ｂ += LOCAL:0

IF HAS_PENIS(ARG:0)
	CUP:(ARG:0):射精 += LOCAL:5 / 5
ENDIF

IF HAS_VAGINA(ARG:0)
	CUP:(ARG:0):潤滑 += LOCAL:5 / 3
ENDIF

;-------------------------------------------------
;快Ｍのソース
;-------------------------------------------------
@CALC_SOURCE_MASTER4(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):快Ｍ
LOCAL:5 = SOURCE:(ARG:0):快Ｍ

SELECTCASE ABL:(ARG:0):Ｍ感
	CASE 0
		TIMES LOCAL:0, 0.04
		TIMES LOCAL:5, 0.60
	CASE 1
		TIMES LOCAL:0, 0.20
		TIMES LOCAL:5, 0.80
	CASE 2
		TIMES LOCAL:0, 1.00
		TIMES LOCAL:5, 1.00
	CASE 3
		TIMES LOCAL:0, 2.30
		TIMES LOCAL:5, 1.20
	CASE 4
		TIMES LOCAL:0, 4.00
		TIMES LOCAL:5, 1.40
	CASEELSE
		LOCAL:0 = LOCAL:0 * ((ABL:(ARG:0):Ｍ感 - 5) * 50 + 550) / 100
		LOCAL:5 = LOCAL:5 * ((ABL:(ARG:0):Ｍ感 - 5) * 10 + 160) / 100
ENDSELECT

IF TALENT:(ARG:0):Ｍ敏感
	TIMES LOCAL:0, 2.00
	TIMES LOCAL:5, 1.50
ENDIF

IF TALENT:(ARG:0):Ｍ鈍感
	TIMES LOCAL:0, 0.50
	TIMES LOCAL:5, 0.75
ENDIF

IF GETBIT(TALENT:(ARG:0):淫乱系, 素質_淫乱_蕩唇)
	TIMES LOCAL:0, 1.50
	TIMES LOCAL:5, 1.50
ENDIF

;媚薬使用中
IF TCVAR:(ARG:0):60
	TIMES LOCAL:0, 2.50
	TIMES LOCAL:5, 2.00
ENDIF

;桃源香使用中
IF TFLAG:69
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:5, 1.25
ENDIF

;体力0による行動不能
IF TCVAR:(ARG:0):51
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

;気力0による失神中
IF TCVAR:(ARG:0):52
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

CUP:(ARG:0):快Ｍ += LOCAL:0

IF HAS_PENIS(ARG:0)
	CUP:(ARG:0):射精 += LOCAL:5 / 5
ENDIF

IF HAS_VAGINA(ARG:0)
	CUP:(ARG:0):潤滑 += LOCAL:5 / 3
ENDIF

;-------------------------------------------------
;快Ｕのソース
;-------------------------------------------------
@CALC_SOURCE_MASTER5(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):快Ｕ
LOCAL:5 = SOURCE:(ARG:0):快Ｕ

SELECTCASE ABL:(ARG:0):Ｕ感
	CASE 0
		TIMES LOCAL:0, 0.04
		TIMES LOCAL:5, 0.60
	CASE 1
		TIMES LOCAL:0, 0.20
		TIMES LOCAL:5, 0.80
	CASE 2
		TIMES LOCAL:0, 1.00
		TIMES LOCAL:5, 1.00
	CASE 3
		TIMES LOCAL:0, 2.30
		TIMES LOCAL:5, 1.20
	CASE 4
		TIMES LOCAL:0, 4.00
		TIMES LOCAL:5, 1.40
	CASEELSE
		LOCAL:0 = LOCAL:0 * ((ABL:(ARG:0):Ｕ感 - 5) * 50 + 550) / 100
		LOCAL:5 = LOCAL:5 * ((ABL:(ARG:0):Ｕ感 - 5) * 10 + 160) / 100
ENDSELECT

IF GETBIT(TALENT:(ARG:0):淫乱系, 素質_淫乱_尿道狂い)
	TIMES LOCAL:0, 1.50
	TIMES LOCAL:5, 1.50
ENDIF

;媚薬使用中
IF TCVAR:(ARG:0):60
	TIMES LOCAL:0, 2.50
	TIMES LOCAL:5, 2.00
ENDIF

;桃源香使用中
IF TFLAG:69
	TIMES LOCAL:0, 1.25
	TIMES LOCAL:5, 1.25
ENDIF

;体力0による行動不能
IF TCVAR:(ARG:0):51
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

;気力0による失神中
IF TCVAR:(ARG:0):52
	TIMES LOCAL:0, 0.20
	TIMES LOCAL:5, 0.20
ENDIF

CUP:(ARG:0):快Ｕ += LOCAL:0

IF HAS_PENIS(ARG:0)
	CUP:(ARG:0):射精 += LOCAL:5 / 5
ENDIF

IF HAS_VAGINA(ARG:0)
	CUP:(ARG:0):潤滑 += LOCAL:5 / 3
ENDIF

;-------------------------------------------------
;液体追加のソース
;-------------------------------------------------
@CALC_SOURCE_MASTER40(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):液体追加

CUP:(ARG:0):潤滑 += LOCAL:0

;-------------------------------------------------
;酔い追加のソース
;-------------------------------------------------
@CALC_SOURCE_MASTER50(ARG:0)
LOCAL:0 = SOURCE:(ARG:0):酔い追加

IF TALENT:(ARG:0):酒豪
	TIMES LOCAL:0, 0.8
ELSEIF TALENT:(ARG:0):下戸
	TIMES LOCAL:0, 1.2
ELSE
	IF TALENT:(ARG:0):幼児
		TIMES LOCAL:0, 3.00
	ELSEIF TALENT:(ARG:0):体格 == 体格_小柄
		TIMES LOCAL:0, 1.50
	ENDIF
ENDIF

CUP:(ARG:0):酔い += LOCAL:0
