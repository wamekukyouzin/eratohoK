;コンフィグから行う強制データ操作

;-------------------------------------------------
;データ操作
;-------------------------------------------------
@CONFIG_DATA_EDIT
CALL SINGLE_DRAWLINE
PRINTL 行う操作を選択して下さい
SETCOLOR 0xD0A080
PRINTL   ◎操作によっては重篤な不具合が発生する場合があります
PRINTL   ◎濫用するとゲームの楽しみを損なう恐れがあります
PRINTL   以上を理解した上でご利用下さい
RESETCOLOR
CALL SINGLE_DRAWLINE

PRINTBUTTON " 0[キャラデータの個別書き換え]", 0
PRINTL 
PRINTBUTTON " 1[キャラデータの一括書き換え]", 1
PRINTL 
PRINTBUTTON " 2[所持金の追加]", 2
PRINTL 
PRINTBUTTON " 3[勢力図の変更]", 3
PRINTL 
PRINTBUTTON " 4[全アイテム追加]", 4
PRINTL
PRINTBUTTON " 5[時期設定]", 5
PRINTL
IF IS_COUNTRY(CFLAG:MASTER:所属)
	PRINTBUTTON " 6[各国との関係設定]", 6
	PRINTL
ENDIF
PRINTBUTTON " 7[引継ぎデータ作成]", 7
PRINTL
PRINTBUTTON " 8[部隊ダンプ]", 8
PRINTL
PRINTBUTTON " 9[乱数調整]", 9
PRINTL
PRINTBUTTON "10[ランダムキャラ追加]", 10
PRINTL
PRINTBUTTON "11[兵を増やす]", 11
PRINTL
PRINTBUTTON "12[複数キャラクターをランダムで死亡させる]", 12
PRINTL
PRINTBUTTON "13[ランダムキャラ複数追加]", 13
PRINTL
PRINTBUTTON "15[MASTERとキャラを入れ替える]", 15
PRINTL
PRINTBUTTON "16[既存のキャラのクローン生成]", 16
PRINTL
CALL SINGLE_DRAWLINE
PRINTBUTTON " 99[戻る]", 99
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 99
	REDRAW 1
	RETURN
ELSEIF RESULT == 0
	REDRAW 1
	WHILE 1
	CALL SELECT_CHARA_LIST_ONLY_LOGIC_SLG("NONE", "NONE")
	SIF RESULT == -1
		BREAK
	CALL CHARACTER_EDIT(RESULT, 1)
	WEND
ELSEIF RESULT == 1
	REDRAW 1
	CALL CONFIG_DATA_EDIT_CHARA_ALL
ELSEIF RESULT == 2
	REDRAW 1
	PRINTFORML 追加する所持金の額を入力して下さい(現在:{MONEY})
	INPUT
	MONEY = LIMIT(MONEY + RESULT, 0, 9999999999999)
ELSEIF RESULT == 3
	CALL CONFIG_DATA_EDIT_SLG
ELSEIF RESULT == 4
	CALL ASK_YN("番号指定", "全追加")
	IF RESULT == 0
		PRINTFORML 番号指定
		INPUT
		LOCAL:1 = RESULT
		PRINTFORML 個数指定
		INPUT
		LOCAL:2 = RESULT
		ITEM:(LOCAL:1) = LOCAL:2
	ELSE
		REDRAW 1
		PRINTFORML 購入可能な全アイテムを販売開始し、かつ追加しておきました
		FOR LOCAL, 0, 499
			IF ITEMNAME:LOCAL != ""
				SELECTCASE LOCAL
					CASE 140
						ITEMSALES:LOCAL = 1
						ITEMTERM:LOCAL = 0
						ITEM:LOCAL = 1
					CASE 141, 142
						ITEMSALES:LOCAL = 1
						ITEMTERM:LOCAL = 0
					CASE 100 TO 149
						ITEMSALES:LOCAL = 0
						ITEM:LOCAL = 1
						ITEMTERM:LOCAL = 0
					CASE 150 TO 199
						ITEMSALES:LOCAL = 1
						ITEM:LOCAL = 99
						ITEMTERM:LOCAL = 0
					CASE 200 TO 249
						ITEMSALES:LOCAL = 0
						ITEM:LOCAL = 1
						ITEMTERM:LOCAL = 0
					CASE 250 TO 279
						ITEMSALES:LOCAL = 1
						ITEM:LOCAL = 99
						ITEMTERM:LOCAL = 0
					CASE IS >= 280
						ITEMSALES:LOCAL = 1
						ITEMTERM:LOCAL = 0
				ENDSELECT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 5
	REDRAW 1
		PRINTFORML 第何期にしますか？(現在:{DAY})
		PRINTFORML 0以下入力でキャンセルできます
		INPUT
		IF RESULT <= 0
			PRINTFORML キャンセルしました
		ELSE
			PRINTFORML {RESULT}期にしました
			DAY = RESULT
		ENDIF
ELSEIF RESULT == 6 && IS_COUNTRY(CFLAG:MASTER:所属)
	VARSET LOCAL
	VARSET LOCALS
	$DEPLOMACY_LOOP
	CALL SINGLE_DRAWLINE
	PRINTL 関係設定を行う勢力を選択して下さい
	CALL SINGLE_DRAWLINE
	PRINTL                     【関係】【友好度／敵対度】  【印象】  【囚えている捕虜】        【囚われている捕虜】

	;他勢力一覧の表示
	FOR LOCAL:0, 1, MAX_COUNTRY
		;野盗はそもそも表示させない
		IF IS_COUNTRY(LOCAL:0) && LOCAL:0 != CFLAG:MASTER:所属
			LOCALS:0 = {LOCAL:0, 2}[%ANAME(GET_COUNTRY_BOSS(LOCAL:0))%]
			;外交禁止フラグが立っているならグレー表示
			IF COUNTRY_IS_CLOSED:(LOCAL:0)
				SETCOLOR カラー_選択不可
				PRINTPLAINFORM %LOCALS:0, 22, LEFT%
				RESETCOLOR
			ELSE
				PRINTBUTTON @"%LOCALS:0, 22, LEFT%", LOCAL:0
			ENDIF

			CALL TMP_SETCOLOR_COUNTRY_RELATION(CFLAG:MASTER:所属, LOCAL:0)
			PRINTFORM %TMP_TOSTR_COUNTRY_RELATION(CFLAG:MASTER:所属, LOCAL:0, 0), 9, LEFT%
			RESETCOLOR
			LOCAL:4 = GET_COUNTRY_BOSS(CFLAG:MASTER:所属)
			LOCAL:5 = GET_COUNTRY_BOSS(LOCAL:0)
	;		PRINTFORM 
			PRINTFORM {REL_LIKE:(LOCAL:5):(LOCAL:4), 5, RIGHT}
			PRINT 　
			PRINTFORM {REL_HATE:(LOCAL:5):(LOCAL:4), 5, RIGHT}
			PRINT        

			CALL TMP_PRINT_COUNTRY_RELATION2(LOCAL:5, LOCAL:4)
			PRINT      

			;囚えている捕虜の表示
			LOCALS:1 = 
			FOR LOCAL:1, 0, CHARANUM
				IF CFLAG:(LOCAL:1):所属 == LOCAL:0 && CFLAG:(LOCAL:1):捕虜先 == CFLAG:MASTER:所属
					IF LOCALS:1 == ""
						LOCALS:1 = %ANAME(LOCAL:1)%
					ELSE
						IF STRLENS(@"%LOCALS:1%、%ANAME(LOCAL:1)%") >= 24
							LOCALS:1 = %LOCALS:1%、他
							BREAK
						ELSE
							LOCALS:1 = %LOCALS:1%、%ANAME(LOCAL:1)%
						ENDIF
					ENDIF
				ENDIF
			NEXT
			SETCOLOR 0xFF8020
			PRINTFORM %LOCALS:1, 26, LEFT%
			RESETCOLOR

			;囚えられている捕虜の表示
			LOCALS:1 = 
			FOR LOCAL:1, 0, CHARANUM
				IF CFLAG:(LOCAL:1):所属 == CFLAG:MASTER:所属 && CFLAG:(LOCAL:1):捕虜先 == LOCAL:0
					IF LOCALS:1 == ""
						LOCALS:1 = %ANAME(LOCAL:1)%
					ELSE
						IF STRLENS(@"%LOCALS:1%、%ANAME(LOCAL:1)%") >= 24
							LOCALS:1 = %LOCALS:1%、他
							BREAK
						ELSE
							LOCALS:1 = %LOCALS:1%、%ANAME(LOCAL:1)%
						ENDIF
					ENDIF
				ENDIF
			NEXT
			SETCOLOR 0x40FFFF
			PRINTFORM %LOCALS:1, 26, LEFT%
			RESETCOLOR
			PRINTL 
		ENDIF
	NEXT
	CALL SINGLE_DRAWLINE
	PRINTBUTTON "98[一括]", 98
	PRINTL
	PRINTBUTTON "99[戻る]", 99
	PRINTL 
	REDRAW 0

	$INPUT_LOOP2
	INPUT

	IF RESULT >= 1 && RESULT < MAX_COUNTRY && RESULT != CFLAG:MASTER:所属 && IS_COUNTRY(RESULT) && !COUNTRY_IS_CLOSED:RESULT
		LOCAL:1 = RESULT
		REDRAW 1
		PRINTFORML 友好度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			REL_LIKE:(GET_COUNTRY_BOSS(LOCAL:1)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
		ENDIF
		PRINTFORML 敵対度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			REL_HATE:(GET_COUNTRY_BOSS(LOCAL:1)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
		ENDIF
		PRINTFORMW 設定しました
		GOTO DEPLOMACY_LOOP
	ELSEIF RESULT == 98
		REDRAW 1
		PRINTFORML 友好度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			FOR LOCAL, 0, MAX_COUNTRY
				IF IS_COUNTRY(LOCAL) && !COUNTRY_IS_CLOSED:LOCAL && LOCAL != CFLAG:MASTER:所属
					REL_LIKE:(GET_COUNTRY_BOSS(LOCAL)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
				ENDIF
			NEXT
		ENDIF
		PRINTFORML 敵対度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			FOR LOCAL, 0, MAX_COUNTRY
				IF IS_COUNTRY(LOCAL) && !COUNTRY_IS_CLOSED:LOCAL && LOCAL != CFLAG:MASTER:所属
					REL_HATE:(GET_COUNTRY_BOSS(LOCAL)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
				ENDIF
			NEXT
		ENDIF
		PRINTFORMW 設定しました
		GOTO DEPLOMACY_LOOP
	ELSEIF RESULT != 99
		CLEARLINE 1
		GOTO INPUT_LOOP2
	ENDIF
	REDRAW 1
	RESTART
ELSEIF RESULT == 7
	PRINTFORMW 引継ぎデータを作成します
	FLAG:クリア直後フラグ = 1
	CALL SAVE_GAME
	FLAG:クリア直後フラグ = 0
ELSEIF RESULT == 8
	FOR LOCAL, 0, MAX_COUNTRY
		SIF !IS_COUNTRY(LOCAL)
			CONTINUE
		LOCAL:6 = GET_COUNTRY_BOSS(LOCAL:0)
		FOR LOCAL:1, 0, MAX_UNIT
			SIF UNIT_SOLDIER:(LOCAL:0):(LOCAL:1) <= 0
				CONTINUE
			CALL PRINT_UNIT_INFO(LOCAL:0, LOCAL:1)
			PRINTFORM 街:%GET_CITYNAME(UNIT_POSITION:(LOCAL:0):(LOCAL:1))%
			PRINTL
		NEXT
	NEXT
	RESETCOLOR
	WAIT
ELSEIF RESULT == 9
	PRINTFORML 乱数発生回数を入力(0以下を入力でキャンセル)
	INPUT
	IF RESULT > 0
		LOCAL:1 = RESULT
		FOR LOCAL, 0, LOCAL:1
			LOCAL:2 = RAND:2
		NEXT
	ENDIF
ELSEIF RESULT == 10
	CALL CONFIG_DATA_EDIT_RECRUIT_RANDOM_CHARA
ELSEIF RESULT == 11
	FOR LOCAL:0, 1, MAX_COUNTRY
		SIF IS_COUNTRY(LOCAL:0)
			PRINTFORML [{LOCAL:0}] - %ANAME(GET_COUNTRY_BOSS(LOCAL:0))%
	NEXT
	PRINTFORML [99] 戻る
	$INPUT_LOOP_SOLDIER
	INPUT
	IF RESULT == 99
	ELSEIF IS_COUNTRY(RESULT)
		LOCAL = RESULT
		PRINTFORML 増やす数を入力
		INPUT
		COUNTRY_SOLDIER:(LOCAL:0) += RESULT
	ELSE
		GOTO INPUT_LOOP_SOLDIER
	ENDIF
ELSEIF RESULT == 12
	CALL CONFIG_DATA_EDIT_RANDOM_DEAD
ELSEIF RESULT == 13
	CALL CONFIG_DATA_EDIT_ADD_RANDOM_CHARA_MULTI
ELSEIF RESULT == 15
	CALL CONFIG_DATA_EDIT_SWAP_MASTER
ELSEIF RESULT == 16
	CALL CONFIG_DATA_EDIT_CREATE_CLONE
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
RESTART

;-------------------------------------------------
;キャラデータの書き換え
;-------------------------------------------------
@CONFIG_DATA_EDIT_CHARA_ALL
#DIM FIRST_LINE
FIRST_LINE = LINECOUNT
CALL SINGLE_DRAWLINE
PRINTFORML キャラデータの変更(一括)    ※主人公は変更の適用外です
CALL SINGLE_DRAWLINE

LOCALS:0 = 全員に陥落素質を付ける
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 100[  恋慕]", 100
PRINTBUTTON " 101[  親愛]", 101
PRINTBUTTON " 102[  恋人]", 102
PRINTL 
PRINTFORM %TOSTR_SPACE(28)%
PRINTBUTTON " 103[  服従]", 103
PRINTBUTTON " 104[  隷属]", 104
PRINTBUTTON " 105[  烙印]", 105
PRINTBUTTON " 106[  合意]", 106
PRINTL 

LOCALS:0 = 全員の性別を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 110[  男性]", 110
PRINTBUTTON " 111[  女性]", 111
PRINTBUTTON " 112[  女双]", 112
PRINTL 
PRINTFORM %TOSTR_SPACE(28)%
PRINTBUTTON " 113[  男双]", 113
PRINTBUTTON " 114[男の娘]", 114
PRINTBUTTON " 115[男の娘双]", 115
PRINTL 

LOCALS:0 = 全員の性経験を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 120[  処女]", 120
PRINTBUTTON " 121[非処女]", 121
PRINTBUTTON " 122[  童貞]", 122
PRINTBUTTON " 123[非童貞]", 123
PRINTBUTTON " 124[キス未経験]", 124
PRINTBUTTON " 125[キス経験済]", 125
PRINTBUTTON " 126[アナル処女]", 126
PRINTBUTTON " 127[アナル非処女]", 127
PRINTL 

LOCALS:0 = 全員を捕虜にする
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 130[他国の士官のみ]", 130
PRINTBUTTON " 131[全ての士官]", 131
PRINTL 
PRINTL 

LOCALS:0 = 全員を士官にする
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 150[全ての士官]", 150
PRINTL 
PRINTL 

LOCALS:0 = 全員の好感度を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 200[  固定]", 200
PRINTBUTTON " 201[  以上]", 201
PRINTBUTTON " 202[  以下]", 202
PRINTL 

LOCALS:0 = 全員の従属度を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 210[  固定]", 210
PRINTBUTTON " 211[  以上]", 211
PRINTBUTTON " 212[  以下]", 212
PRINTL 

LOCALS:0 = 全員の依存度を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 220[  固定]", 220
PRINTBUTTON " 221[  以上]", 221
PRINTBUTTON " 222[  以下]", 222
PRINTL 
PRINTL 

LOCALS:0 = 全員に素質を追加
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 300[名称指定]", 300
PRINTBUTTON " 301[番号指定]", 301
PRINTL 

LOCALS:0 = 全員の素質を削除
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 310[名称指定]", 310
PRINTBUTTON " 311[番号指定]", 311
PRINTL 

LOCALS:0 = 全員の能力値を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 320[  固定]", 320
PRINTBUTTON " 321[  以上]", 321
PRINTBUTTON " 322[  以下]", 322
PRINTL 
PRINTFORM %TOSTR_SPACE(29)%番号指定→
PRINTBUTTON " 330[  固定]", 330
PRINTBUTTON " 331[  以上]", 331
PRINTBUTTON " 332[  以下]", 332
PRINTL 
PRINTL 
LOCALS:0 = 全員の体力を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 340[  固定]", 340
PRINTBUTTON " 341[  以上]", 341
PRINTBUTTON " 342[  以下]", 342
PRINTL 
LOCALS:0 = 全員の気力を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 350[  固定]", 350
PRINTBUTTON " 351[  以上]", 351
PRINTBUTTON " 352[  以下]", 352
PRINTL 
LOCALS:0 = 全員の精神力を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 360[  固定]", 360
PRINTBUTTON " 361[  以上]", 361
PRINTBUTTON " 362[  以下]", 362
PRINTL 

LOCALS:0 = 全員の対面状態を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 400[初対面]", 400
PRINTBUTTON " 401[対面済み]", 401
PRINTL 

CALL SINGLE_DRAWLINE
PRINTBUTTON " 999[戻る]", 999
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 999
	REDRAW 1
	RETURN
ELSEIF RESULT == 100
	PRINTFORML 主人公を除く全てのキャラに[恋慕]を付け、好感度を1500、依存度を300にします
	PRINTFORML 現在の好感度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):服従 = 0
				TALENT:(LOCAL:0):隷属 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):恋慕 = 1
				CFLAG:(LOCAL:0):2 = MAX(CFLAG:(LOCAL:0):2, 1500)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 300)
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 101
	PRINTFORML 主人公を除く全てのキャラに[親愛]を付け、好感度を10000、依存度を3000にします
	PRINTFORML 現在の好感度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):服従 = 0
				TALENT:(LOCAL:0):隷属 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):恋慕 = 1
				TALENT:(LOCAL:0):親愛 = 1
				CFLAG:(LOCAL:0):2 = MAX(CFLAG:(LOCAL:0):2, 10000)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 3000)
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 102
	PRINTFORML 主人公を除く全てのキャラに[恋人]を付けます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):烙印 = 0
				TALENT:(LOCAL:0):恋人 = 1
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 103
	PRINTFORML 主人公を除く全てのキャラに[服従]を付け、従属度を1500、依存度を300にします
	PRINTFORML 現在の従属度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):恋慕 = 0
				TALENT:(LOCAL:0):親愛 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):服従 = 1
				CFLAG:(LOCAL:0):4 = MAX(CFLAG:(LOCAL:0):4, 1500)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 300)

				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 104
	PRINTFORML 主人公を除く全てのキャラに[隷属]を付け、従属度を10000、依存度を3000にします
	PRINTFORML 現在の従属度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):恋慕 = 0
				TALENT:(LOCAL:0):親愛 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):服従 = 1
				TALENT:(LOCAL:0):隷属 = 1
				CFLAG:(LOCAL:0):4 = MAX(CFLAG:(LOCAL:0):4, 10000)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 3000)
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 105
	PRINTFORML 主人公を除く全てのキャラに[烙印]を付けます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):恋人 = 0
				TALENT:(LOCAL:0):烙印 = 1
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 106
	PRINTFORML 主人公を除く全てのキャラに[合意]を付けます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):合意 = 1
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 110
	PRINTFORML 主人公を除く全てのキャラを男性にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):性別 = 0
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 111
	PRINTFORML 主人公と動物を除く全てのキャラを女性にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 1
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 112
	PRINTFORML 主人公を除く全てのキャラを女性(ふたなり)にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 2
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 113
	PRINTFORML 主人公を除く全てのキャラを男性(ふたなり)にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 3
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 114
	PRINTFORML 主人公を除く全てのキャラを男の娘にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 4
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 115
	PRINTFORML 主人公を除く全てのキャラを男の娘(ふたなり)にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 5
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 120
	PRINTFORML 主人公を除く全てのキャラを処女にします(感度や経験は変更されません)
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_処女)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 121
	PRINTFORML 主人公を除く全てのキャラを非処女にします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_処女 = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_処女 = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_処女 = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_処女 = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 122
	PRINTFORML 主人公を除く全てのキャラを童貞にします(感度や経験は変更されません)
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_童貞)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 123
	PRINTFORML 主人公を除く全てのキャラを非童貞にします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):童貞 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_童貞 = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_童貞 = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):童貞 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_童貞 = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_童貞 = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 124
	PRINTFORML 主人公を除く全てのキャラのキスの経験を消去します
	CALL ASK_MULTI("実行",　"キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_キス)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 125
	PRINTFORML 主人公を除く全てのキャラをキス経験済みにします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):キス未経験 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_キス = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_キス = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):キス未経験 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_キス = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_キス = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 126
	PRINTFORML 主人公を除く全てのキャラの尻穴の経験を消去します
	CALL ASK_MULTI("実行",　"キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_アナル処女)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 127
	PRINTFORML 主人公を除く全てのキャラのアナルを経験済みにします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):アナル処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):アナル処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 130
	PRINTFORML 主人公と別の勢力に所属する、未登場・死亡済み・君主でない全キャラを捕虜にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 1, CHARANUM
			SIF CFLAG:LOCAL:特殊状態 == 特殊状態_死亡 || (!CFLAG:LOCAL:所属 && !CFLAG:LOCAL:特殊状態) || GET_COUNTRY_BOSS(CFLAG:LOCAL:所属) == LOCAL:0
				CONTINUE
			IF CFLAG:MASTER:所属 != CFLAG:LOCAL:所属
				CALL CAPTURE(LOCAL:0, CFLAG:MASTER:所属)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 131
	PRINTFORML 未登場・死亡済み・君主でない全キャラを捕虜にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 1, CHARANUM
			SIF CFLAG:LOCAL:特殊状態 == 特殊状態_死亡 || (!CFLAG:LOCAL:所属 && !CFLAG:LOCAL:特殊状態) || GET_COUNTRY_BOSS(CFLAG:LOCAL:所属) == LOCAL:0
				CONTINUE
			CALL CAPTURE(LOCAL:0, CFLAG:MASTER:所属)
		NEXT
	ENDIF
ELSEIF RESULT == 150
	PRINTFORML 未登場・死亡済み・君主でない全キャラを自国の士官にします
	PRINTFORML 主人公が放浪している場合、全員放浪します
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			SIF CFLAG:LOCAL:特殊状態 == 特殊状態_死亡 || (!CFLAG:LOCAL:所属 && !CFLAG:LOCAL:特殊状態) || GET_COUNTRY_BOSS(CFLAG:LOCAL:所属) == LOCAL:0
				CONTINUE
			CALL CHANGE_COUNTRY(LOCAL:0, CFLAG:MASTER:所属, 1)
		NEXT
	ENDIF
ELSEIF RESULT == 200
	PRINTFORML 全てのキャラの好感度を、指定した値に変更します
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):2 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 201
	PRINTFORML 全てのキャラの好感度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):2 = MAX(CFLAG:(LOCAL:0):2, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 202
	PRINTFORML 全てのキャラの好感度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):2 = MIN(CFLAG:(LOCAL:0):2, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 210
	PRINTFORML 全てのキャラの従属度を、指定した値に変更します
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):4 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 211
	PRINTFORML 全てのキャラの従属度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):4= MAX(CFLAG:(LOCAL:0):4, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 212
	PRINTFORML 全てのキャラの従属度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):4 = MIN(CFLAG:(LOCAL:0):4, RESULT)
			ENDIF
		NEXT
	ENDIF


ELSEIF RESULT == 220
	PRINTFORML 全てのキャラの依存度を、指定した値に変更します
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):3 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 221
	PRINTFORML 全てのキャラの依存度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 222
	PRINTFORML 全てのキャラの依存度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):3 = MIN(CFLAG:(LOCAL:0):3, RESULT)
			ENDIF
		NEXT
	ENDIF
	
;素質の追加
ELSEIF RESULT == 300 || RESULT == 301
	LOCAL:5 = -1
	IF RESULT == 300
		PRINTFORML 追加する素質の名称を入力して下さい(完全一致)
		INPUTS
		IF RESULTS != ""
			FOR LOCAL:0, 0, 1000
				IF TALENTNAME:(LOCAL:0) == RESULTS
					LOCAL:5 = LOCAL:0
					BREAK
				ENDIF
			NEXT
		ENDIF
		IF LOCAL:5 == -1 && RESULTS != ""
			PRINTFORMW 「%RESULTS%」と一致する名称の素質は存在しません
		ENDIF
	ELSE
		PRINTFORML 追加する素質の番号を入力して下さい
		INPUT
		IF RESULT >= 0 && RESULT <= 999 && TALENTNAME:RESULT != ""
			LOCAL:5 = RESULT
		ENDIF
		IF LOCAL:5 == -1
			PRINTFORMW その番号の素質は定義されていません
		ENDIF
	ENDIF
	IF LOCAL:5 >= 0
		IF IS_CONTROLABLE_TALENT(LOCAL:5)
			FOR LOCAL:0, 0, CHARANUM
				IF LOCAL:0 != MASTER
					TALENT:(LOCAL:0):(LOCAL:5) = 1
				ENDIF
			NEXT
			PRINTFORMW 全てのキャラに「%TALENTNAME:(LOCAL:5)%」を追加しました
		ELSE
			PRINTFORMW 素質「%TALENTNAME:(LOCAL:5)%」を直接操作することは出来ません
		ENDIF
	ENDIF

;素質の削除
ELSEIF RESULT == 310 || RESULT == 311
	LOCAL:5 = -1
	IF RESULT == 310
		PRINTFORML 削除する素質の名称を入力して下さい(完全一致)
		INPUTS
		IF RESULTS != ""
			FOR LOCAL:0, 0, 1000
				IF TALENTNAME:(LOCAL:0) == RESULTS
					LOCAL:5 = LOCAL:0
					BREAK
				ENDIF
			NEXT
		ENDIF
		IF LOCAL:5 == -1 && RESULTS != ""
			PRINTFORMW 「%RESULTS%」と一致する名称の素質は存在しません
		ENDIF
	ELSE
		PRINTFORML 削除する素質の番号を入力して下さい
		INPUT
		IF RESULT >= 0 && RESULT <= 999 && TALENTNAME:RESULT != ""
			LOCAL:5 = RESULT
		ENDIF
		IF LOCAL:5 == -1
			PRINTFORMW その番号の素質は定義されていません
		ENDIF
	ENDIF
	IF LOCAL:5 >= 0
		IF IS_CONTROLABLE_TALENT(LOCAL:5)
			FOR LOCAL:0, 0, CHARANUM
				IF LOCAL:0 != MASTER
					TALENT:(LOCAL:0):(LOCAL:5) = 0
				ENDIF
			NEXT
			PRINTFORMW 全てのキャラから「%TALENTNAME:(LOCAL:5)%」を削除しました
		ELSE
			PRINTFORMW 素質「%TALENTNAME:(LOCAL:5)%」を直接操作することは出来ません
		ENDIF
	ENDIF

ELSEIF GROUPMATCH(RESULT, 320, 321, 322, 330, 331, 332)
	LOCAL:5 = -1
	LOCAL:6 = RESULT % 10
	IF RESULT < 330
		PRINTFORML 追加する能力の名称を入力して下さい(完全一致)
		INPUTS
		IF RESULTS != ""
			FOR LOCAL:0, 0, 100
				IF ABLNAME:(LOCAL:0) == RESULTS
					LOCAL:5 = LOCAL:0
					BREAK
				ENDIF
			NEXT
		ENDIF
		IF LOCAL:5 == -1 && RESULTS != ""
			PRINTFORMW 「%RESULTS%」と一致する名称の能力は存在しません
		ENDIF
	ELSE
		PRINTFORML 追加する能力の番号を入力して下さい
		INPUT
		IF RESULT >= 0 && RESULT <= 99 && ABLNAME:RESULT != ""
			LOCAL:5 = RESULT
		ENDIF
		IF LOCAL:5 == -1
			PRINTFORMW その番号の能力は定義されていません
		ENDIF
	ENDIF
	IF LOCAL:5 >= 0
		IF LOCAL:6 == 1
			PRINTFORML 「%ABLNAME:(LOCAL:5)%」の値を入力して下さい({ABL_MIN:(LOCAL:5)}～{ABL_MAX:(LOCAL:5)})
			PRINTFORML 現在の値が入力した値よりも大きい場合、現在の値が維持されます
			PRINTFORML 範囲外の値を入力した場合、キャンセル扱いになります
			INPUT
			IF RESULT >= ABL_MIN:(LOCAL:5) && RESULT <= ABL_MAX:(LOCAL:5)
				FOR LOCAL:0, 0, CHARANUM
					IF LOCAL:0 != MASTER
						ABL:(LOCAL:0):(LOCAL:5) = MAX(ABL:(LOCAL:0):(LOCAL:5), RESULT)
					ENDIF
				NEXT
			ENDIF
			PRINTFORMW 全てのキャラの「%ABLNAME:(LOCAL:5)%」を{RESULT}以上に設定しました
		ELSEIF LOCAL:6 == 2
			PRINTFORML 「%ABLNAME:(LOCAL:5)%」の値を入力して下さい({ABL_MIN:(LOCAL:5)}～{ABL_MAX:(LOCAL:5)})
			PRINTFORML 現在の値が入力した値よりも小さい場合、現在の値が維持されます
			PRINTFORML 範囲外の値を入力した場合、キャンセル扱いになります
			INPUT
			IF RESULT >= ABL_MIN:(LOCAL:5) && RESULT <= ABL_MAX:(LOCAL:5)
				FOR LOCAL:0, 0, CHARANUM
					IF LOCAL:0 != MASTER
						ABL:(LOCAL:0):(LOCAL:5) = MIN(ABL:(LOCAL:0):(LOCAL:5), RESULT)
					ENDIF
				NEXT
			ENDIF
			PRINTFORMW 全てのキャラの「%ABLNAME:(LOCAL:5)%」を{RESULT}以下に設定しました
		ELSE
			PRINTFORML 「%ABLNAME:(LOCAL:5)%」の値を入力して下さい({ABL_MIN:(LOCAL:5)}～{ABL_MAX:(LOCAL:5)})
			PRINTFORML 範囲外の値を入力した場合、キャンセル扱いになります
			INPUT
			IF RESULT >= ABL_MIN:(LOCAL:5) && RESULT <= ABL_MAX:(LOCAL:5)
				FOR LOCAL:0, 0, CHARANUM
					IF LOCAL:0 != MASTER
						ABL:(LOCAL:0):(LOCAL:5) = RESULT
					ENDIF
				NEXT
			ENDIF
			PRINTFORMW 全てのキャラの「%ABLNAME:(LOCAL:5)%」を{RESULT}に設定しました
		ENDIF
	ENDIF
ELSEIF RESULT == 340
	PRINTFORML 全てのキャラの体力を、指定した値に変更します
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:体力 = RESULT
				BASE:LOCAL:体力 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 341
	PRINTFORML 全てのキャラの体力を、指定した値に変更します
	PRINTFORML ただし、元の体力が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:体力 = MAX(MAXBASE:LOCAL:体力, RESULT)
				BASE:LOCAL:体力 = MAX(MAXBASE:LOCAL:体力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 342
	PRINTFORML 全てのキャラの体力を、指定した値に変更します
	PRINTFORML ただし、元の体力が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:体力 = MIN(MAXBASE:LOCAL:体力, RESULT)
				BASE:LOCAL:体力 = MIN(MAXBASE:LOCAL:体力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 350
	PRINTFORML 全てのキャラの気力を、指定した値に変更します
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:気力 = RESULT
				BASE:LOCAL:気力 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 351
	PRINTFORML 全てのキャラの気力を、指定した値に変更します
	PRINTFORML ただし、元の気力が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:気力 = MAX(MAXBASE:LOCAL:気力, RESULT)
				BASE:LOCAL:気力 = MAX(MAXBASE:LOCAL:気力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 352
	PRINTFORML 全てのキャラの気力を、指定した値に変更します
	PRINTFORML ただし、元の気力が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:気力 = MIN(MAXBASE:LOCAL:気力, RESULT)
				BASE:LOCAL:気力= MIN(MAXBASE:LOCAL:気力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 360
	PRINTFORML 全てのキャラの精神力を、指定した値に変更します
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:精神力 = RESULT
				BASE:LOCAL:精神力 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 361
	PRINTFORML 全てのキャラの精神力を、指定した値に変更します
	PRINTFORML ただし、元の精神力が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:精神力 = MAX(MAXBASE:LOCAL:精神力, RESULT)
				BASE:LOCAL:精神力 = MAX(MAXBASE:LOCAL:精神力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 362
	PRINTFORML 全てのキャラの精神力を、指定した値に変更します
	PRINTFORML ただし、元の精神力が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:精神力 = MIN(MAXBASE:LOCAL:精神力, RESULT)
				BASE:LOCAL:精神力= MIN(MAXBASE:LOCAL:精神力, RESULT)
			ENDIF
		NEXT
	ENDIF


ELSEIF RESULT == 400
	PRINTFORML 全てのキャラを初対面の状態に戻します
	CALL ASK_MULTI("実行(フラグのみリセット)", "実行(フラグ・好感度・従属度・依存度・陥落素質をリセット)", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):面識 = 0
			ENDIF
		NEXT
	ELSEIF RESULT == 1
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):面識 = 0
				CFLAG:(LOCAL:0):2 = 0
				CFLAG:(LOCAL:0):3 = 0
				CFLAG:(LOCAL:0):4 = 0
				TALENT:(LOCAL:0):恋慕 = 0
				TALENT:(LOCAL:0):親愛 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):恋人 = 0
				TALENT:(LOCAL:0):服従 = 0
				TALENT:(LOCAL:0):隷属 = 0
				TALENT:(LOCAL:0):烙印 = 0
				TALENT:(LOCAL:0):合意 = 0
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 401
	PRINTFORML 全てのキャラと面識がある状態にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
CLEARLINE LINECOUNT - FIRST_LINE
RESTART

;-------------------------------------------------
;素質が全員一括のデータ操作で変更可能かどうかを調べる関数
;-------------------------------------------------
@IS_CONTROLABLE_TALENT(ARG:0)
#FUNCTION
SIF ARG:0 <= 9 || ARG:0 >= 300
	RETURNF 0
SIF GROUPMATCH(TALENTNAME:(ARG:0), "妊娠", "育児中", "触手妊娠", "Ａ触手妊娠")
	RETURNF 0
SIF GROUPMATCH(TALENTNAME:(ARG:0), "バストサイズ", "ペニスサイズ")
	RETURNF 0
RETURNF 1

;-------------------------
;士官を募る
;-------------------------
@CONFIG_DATA_EDIT_RECRUIT_RANDOM_CHARA
#DIM hold = -1
#DIM showingHold = 0
#DIM FIRST_LINE
LOCAL:10 = 0
LOCAL:11 = 0
hold = -1
showingHold = 0

CALL SINGLE_DRAWLINE
PRINTL 新たな士官を募集します
PRINTL 求める人材を設定して下さい
CALL SINGLE_DRAWLINE
PRINTL ～募集要項～

FIRST_LINE = LINECOUNT
$SHOW_LOOP

PRINTL ◆求める人材は
PRINT    
CALL PRINT_SELECT_BUTTON(" 10{多    能}", 10, LOCAL:10 == 0)
CALL PRINT_SELECT_BUTTON(" 11{武    官}", 11, LOCAL:10 == 1)
CALL PRINT_SELECT_BUTTON(" 12{軍    師}", 12, LOCAL:10 == 2)
CALL PRINT_SELECT_BUTTON(" 13{政 務 官}", 13, LOCAL:10 == 3)
CALL PRINT_SELECT_BUTTON(" 14{アイドル}", 14, LOCAL:10 == 4)
CALL PRINT_SELECT_BUTTON(" 15{料 理 人}", 15, LOCAL:10 == 5)
PRINTL 
PRINTL 

PRINTL ◆性別は
PRINT    
CALL PRINT_SELECT_BUTTON(" 20{問わない}", 20, LOCAL:11 == 0)
CALL PRINT_SELECT_BUTTON(" 21{男    性}", 21, LOCAL:11 == 1)
CALL PRINT_SELECT_BUTTON(" 22{女    性}", 22, LOCAL:11 == 2)
CALL PRINT_SELECT_BUTTON(" 23{女    双}", 23, LOCAL:11 == 3)
CALL PRINT_SELECT_BUTTON(" 23{男    双}", 24, LOCAL:11 == 4)
CALL PRINT_SELECT_BUTTON(" 24{男 の 娘}", 25, LOCAL:11 == 5)
CALL PRINT_SELECT_BUTTON(" 24{男 娘 双}", 26, LOCAL:11 == 6)

PRINTL 
PRINTL
PRINTL ◆名前は
PRINT    
CALL PRINT_SELECT_BUTTON(" 30{和    名}", 30, LOCAL:13 == 0)
CALL PRINT_SELECT_BUTTON(" 31{洋    風}", 31, LOCAL:13 == 1)
CALL PRINT_SELECT_BUTTON(" 32{中    華}", 32, LOCAL:13 == 2)
PRINTL
CALL SINGLE_DRAWLINE
PRINTBUTTON "  0[この条件で募集]", 0
PRINTL 
PRINTBUTTON "  1[キャンセル]", 1
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 1
	REDRAW 1
	RETURN 0
ELSEIF RESULT >= 10 && RESULT <= 15 && LOCAL:10 != RESULT - 10
	LOCAL:10 = RESULT - 10
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSEIF RESULT >= 20 && RESULT <= 26 && LOCAL:11 != RESULT - 20
	LOCAL:11 = RESULT - 20
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSEIF RESULT >= 30 && RESULT <= 32 && LOCAL:13 != RESULT - 30
	LOCAL:13 = RESULT - 30
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSEIF RESULT != 0
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF

REDRAW 1

LOCAL:0 = GET_COMMANDER_NUM(CFLAG:MASTER:所属)

;君主が[動物耳]or[尻尾]を持つならケモ率高め
LOCAL:4 = GET_COUNTRY_BOSS(CFLAG:MASTER:所属)
IF LOCAL:4 >= 0 && (TALENT:(LOCAL:4):動物耳 || TALENT:(LOCAL:4):しっぽ)
	LOCAL:5 = 75
ELSE
	LOCAL:5 = 1
ENDIF

$INPUT_LOOP_NEWCHARA

;指定の条件でランダムキャラを作成
CALL CREATE_RANDOM_CHARA(LOCAL:5, LOCAL:10, LOCAL:11 - 1, LOCAL:13)
LOCAL:2 = RESULT

;士官の作成に失敗した場合
IF LOCAL:2 < 0
	PRINTW 残念ながら目ぼしい士官は見つかりませんでした…

;成功
ELSE
	CALL SINGLE_DRAWLINE
	PRINTFORML %ANAME(LOCAL:2)%が仕官を求めてきました

	$INPUT_LOOP_SELECT

	;SHOW_INFOの初期画面を基本情報にする
	FLAG:能力表示モード = 0

	;キャラの情報を表示
	CALL SINGLE_DRAWLINE
	CALL SHOW_INFO(LOCAL:2)
	CALL SINGLE_DRAWLINE

	PRINTBUTTON "0[このキャラを登用]", 0
	PRINT    
	PRINTBUTTON "1[別のキャラを探す]", 1
	PRINT    
	IF hold == -1
	ELSEIF showingHold
		PRINTBUTTON "2[進む]", 2
	ELSE
		PRINTBUTTON "2[戻る]", 2
	ENDIF
	
	PRINT    
	PRINTBUTTON "9[中止]", 9
	PRINTL 

	$INPUT_LOOP_TREAT
	INPUT

	IF RESULT == 0
		CALL CHANGE_COUNTRY(LOCAL:2, CFLAG:MASTER:所属)
		PRINTFORMW %ANAME(LOCAL:2)%が我が国の士官になりました
		IF hold != -1
			CALL DELETE_CHARA(hold)
		ENDIF
		RESTART
	ELSEIF RESULT == 1
		IF hold != -1
			;いらないキャラを削除
			CALL DELETE_CHARA(hold)
		ENDIF
		hold = CHARANUM - 1
		showingHold = 0
		GOTO INPUT_LOOP_NEWCHARA
	ELSEIF RESULT == 2
		IF showingHold
			showingHold = 0
		ELSE
			showingHold = 1
		ENDIF
			;スワップ
			LOCAL:21 = hold
			hold    = LOCAL:2
			LOCAL:2 = LOCAL:21
		GOTO INPUT_LOOP_SELECT
	ELSEIF RESULT == 9
		;PRINTW 今回は登用を見送ることにしました
		;作成したキャラを削除
		CALL DELETE_CHARA(CHARANUM - 1)
		IF hold != -1
			CALL DELETE_CHARA(CHARANUM - 1)
		ENDIF
	ELSE
		GOTO INPUT_LOOP_TREAT
	ENDIF
ENDIF

RETURN 0

@CONFIG_DATA_EDIT_RANDOM_DEAD
#DIM LOOP_C
#DIM 種別
#DIM 割合
#DIM 削除しない

PRINTFORML ある種別に属する全てのキャラクターを、乱数の結果次第で死亡させます
PRINTFORML （「MASTER」「君主」「捕虜」「妊娠中」「動物」は対象外）
PRINTFORML 固定キャラ以外の場合、キャラクターデータ自体を削除することも可能です
PRINTFORML

PRINTFORML キャラクターの種別は？
CALL ASK_MULTI("（キャンセル）", "全て", "固定キャラ", "ランダムキャラ（子供以外）", "子供", "特殊キャラ（動物以外）")
IF RESULT == 0
	PRINTFORML キャンセルしました
	RETURN
ENDIF
種別 = RESULT

SIF 種別 == 1
	PRINT 固定キャラ以外の場合、
IF 種別 != 2
	PRINTFORML キャラクターデータ自体を削除しますか？
	CALL ASK_YN("削除する（二度と復活できません）", "「特殊状態」等の書き換えのみ（復活可能）")
	削除しない = RESULT
ENDIF

PRINTFORML 死亡状態にする確率（パーセント）は？（101以上または0以下入力でキャンセルできます）
PRINTFORML [0] [50] [100]
INPUT
IF RESULT <= 0 || RESULT > 100
	PRINTFORML キャンセルしました
	RETURN
ENDIF
割合 = RESULT

FOR LOOP_C, CHARANUM - 1, -1, -1
	SIF (LOOP_C == MASTER) || (GET_COUNTRY_FROM_BOSS_ID(GET_ID(LOOP_C)) > 0) || CFLAG:LOOP_C:捕虜先 || TALENT:LOOP_C:妊娠
		CONTINUE
	SIF (種別 == 2) && !IS_FIXED_CHARA(LOOP_C)
		CONTINUE
	SIF (種別 == 3) && !IS_RANDOM_CHARA(LOOP_C)
		CONTINUE
	SIF (種別 == 4) && !IS_CHILD(LOOP_C)
		CONTINUE
	SIF (種別 == 5) && !IS_SP_CHARA(LOOP_C)
		CONTINUE
	SIF IS_ANIMAL(LOOP_C) ; IS_ANIMAL が真の場合は IS_SP_CHARA も真のはずだけど一応単独でチェックしておく
		CONTINUE
	SIF RAND:100 >= 割合
		CONTINUE
	CALL FORCE_FREE(LOOP_C)
	IF IS_FIXED_CHARA(LOOP_C) || 削除しない
		IF  (CFLAG:LOOP_C:特殊状態 != 特殊状態_死亡)
			PRINTFORML %ANAME(LOOP_C)%を死亡状態にします。
			CALL CHANGE_COUNTRY(LOOP_C, 0, 1, 1)
		ENDIF
	ELSE
		PRINTFORML %ANAME(LOOP_C)%を削除します。
		CALL DELETE_CHARA(LOOP_C)
	ENDIF
NEXT

@CONFIG_DATA_EDIT_ADD_RANDOM_CHARA_MULTI
#DIM 所属
#DIM 人数
#DIM LOOP1
#DIM 性別
#DIM 特殊

IF !CAN_ADD_RANDOM_CHARA()
	PRINTFORML ランダムキャラが満員なので追加できないよ
	RETURN
ENDIF

PRINTFORML ランダムキャラを複数追加します（名前や能力の傾向は指定できません）
PRINTFORML 特殊キャラ扱いにすることも可能です
PRINTFORML

PRINTFORML キャラクターの性別は？
CALL ASK_MULTI("（キャンセル）", "問わない", "男性", "女性", "女双", "男双", "男の娘", "男の娘双")
IF RESULT == 0
	PRINTFORML キャンセルしました
	RETURN
ENDIF
性別 = RESULT - 2

PRINTFORML キャラクターの種別は？（※ 特殊キャラの放浪はおすすめできないかもしれません）
CALL ASK_YN("ランダムキャラ", "特殊キャラ扱い")
特殊 = RESULT

PRINTFORML 所属は？
CALL ASK_YN("放浪", "MASTERと同じ")
所属 = RESULT
SIF 所属
	所属 = CFLAG:MASTER:所属

PRINTFORML 追加する人数は？（0以下入力でキャンセルできます）
PRINTFORML [0] [5] [10] [20]
INPUT
IF RESULT <= 0
	PRINTFORML キャンセルしました
	RETURN
ENDIF
人数 = RESULT
FOR LOOP1, 0, 人数
	CALL CREATE_RANDOM_CHARA(,,性別)
	IF RESULT < 0
		PRINTFORML {LOOP1}人 生成しました
		RETURN
	ELSE
		IF 特殊
			; @VIGILANTE_INIT を参考にする。
			FLAG:汎用武将カウント --
			NO:RESULT = GET_EMPTY_NO()
			;CALL INIT_NEWCHARA(RESULT)
		ENDIF
		CALL CHANGE_COUNTRY(RESULT, 所属)
	ENDIF
NEXT
PRINTFORML {人数}人 生成しました

@CONFIG_DATA_EDIT_CREATE_CLONE
#DIM 対象

CALL SINGLE_DRAWLINE
PRINTFORML クローンを作るキャラを選択
CALL SINGLE_DRAWLINE

CALL SELECT_CHARA_LIST_ONLY_LOGIC_SLG("NONE", "NONE")

SIF RESULT == -1
	RETURN
対象 = RESULT
CALL SAVE_CUSTOM_DATA(-1, 対象)
CALL LOAD_CUSTOM_DATA(-1)

CFLAG:RESULT:所属 = CFLAG:対象:所属
CFLAG:RESULT:捕虜先 = CFLAG:対象:捕虜先
CFLAG:RESULT:特殊状態 = CFLAG:対象:特殊状態

@CONFIG_DATA_EDIT_SWAP_MASTER
#DIM 対象
; データ操作でMASTERあなたとランダムキャラを入れ替えるパッチ
PRINTFORML 他のキャラと入れ替えできます
PRINTFORML どのキャラクターと入れ替えますか？
CALL SELECT_CHARA_LIST_ONLY_LOGIC_SLG("SWAP_MASTER", "NONE")
SIF RESULT < 0
	RETURN
対象 = RESULT
CALL FORCE_FREE(MASTER)
CALL SWAP_CHARA(MASTER, 対象)
;とりあえず 好感度、依存度、従属度 はそのままにしておく

@SELECT_CHARA_LIST_SHOW_LOGIC_SWAP_MASTER(対象)
#DIM 対象
RETURN IS_FIXED_CHARA(対象) || IS_SP_CHARA(対象)

