;---------------------
;基本的な発生確率(1000分率 100で10%)
;これにコンフィグ項目の発生頻度がかけられるので、必ずしもこの通りにはならない
;---------------------
@KOJO_DAILY_K17_SOUL_GO_HAPPY_RATE(対象)
#DIM 対象
RETURN 35

;---------------------
;確率以外の発生判定
;〇期以降になると発生するとか、デイリー側で利用している変数が-1だったら起こさない　みたいなはじき方をするときに使う
;---------------------
@KOJO_DAILY_K17_SOUL_GO_HAPPY_DECISION(対象)
#DIM 対象

SIF ABL:対象:欲望 < 3
	RETURN 0

SIF TALENT:対象:処女 || TALENT:対象:キス未経験
	RETURN 0

SIF !IS_LOVER(対象) && !IS_SLAVE(対象)
	RETURN 0

SIF !HAS_PENIS(MASTER)
	RETURN 0

SIF KDVAR:対象:メルラン_ソウルゴーハッピー
	RETURN 0

RETURN CHECK_KOJO_DAILY_HAPPEN(対象, 1, 0, 1)

;---------------------
;ジャンル
;コンフィグ設定で使用
;---------------------
@KOJO_DAILY_K17_SOUL_GO_HAPPY_GENRE(対象)
#DIM 対象
RETURN デイリー_ジャンル_エロ

;---------------------
;本体
;イベントが発生した場合は1、発生しなかった場合は0を返す
;発生しなかったというのは例えば、特定条件を満たすキャラからランダムに一人選ぶデイリーで、そもそもその条件を満たすキャラが一人もいないみたいなとき
;旧仕様で作ったことある人向けにいうと「旧仕様のデイリー本体冒頭で-1を返すような状況」
;---------------------
@KOJO_DAILY_K17_SOUL_GO_HAPPY(対象)
#DIM 対象

PRINTFORMW なんだか股間周りがきもちいい……
PRINTFORM 怪訝に思いながら%ANAME(MASTER)%が目を覚ますと、
SELECTCASE IFRAND("0, 1", 1, "2", GET_BUSTSIZE(対象) > 0)
	CASE 0
		PRINTFORML 布団が盛り上がっている
		PRINTFORMW 何事かと思ってまくってみれば、%ANAME(対象)%が%ANAME(MASTER)%のモノをしゃぶっていた
		PRINTFORMW 「んく、ん……♥　ぷはっ、おはよう、%ANAME(MASTER)%」
		PRINTFORMW 「ふふ、気持ちいい？　こうしたら私も%ANAME(MASTER)%も朝から幸せでしょ？」
		PRINTFORML %ANAME(対象)%はにっこりと微笑み、口淫を再会する
		PRINTFORMW こみ上げてくる感覚に、%ANAME(MASTER)%はあっという間に射精してしまった……
		CALL FUCK(対象, "Ｍ, 奉仕, 精愛, 性技, 欲望, 口淫", "キス喪失, 口内射精", GET_ID(MASTER), @"%ANAME(MASTER)%のペニス", "", "", 喪失_和姦)
		CALL FUCK(MASTER, "Ｃ, 射精, 欲望", "")
		PRINTFORMW 「んくぅっ……んぐ、ん……♥　朝から濃いのが出たわね……ごちそうさまでした♥」
	CASE 1
		PRINTFORMW %ANAME(対象)%が%ANAME(MASTER)%の上で腰を振っているではないか
		PRINTFORMW 「あはっ……あっんぁあッ……あくっ、うぅんっ……♥」
		PRINTFORMW 「んぁっ、は……♥　あ、起きた？　おはよ……あぁんっ！」
		PRINTFORML にこやかに挨拶してくる%ANAME(対象)%だが、その表情はいつもの彼女らしからぬほど淫靡だ
		PRINTFORMW その腰は精を搾り取ろうとしているかのように妖しくくねっている……
		PRINTFORMW 「あぅんっ……二人で朝から気持ちよくなれるなんて、最高にハッピーだと思わない？」
		PRINTFORMW 「ちょっと待ってね……私、そろそろだから、アッ、は、んぅうッ♥」
		PRINTFORML 熱に浮かされたような表情で呟くと、%ANAME(対象)%は%ANAME(MASTER)%との性交に没頭していく
		PRINTFORMW その献身的かつ淫らな腰使いに、%ANAME(MASTER)%はあっという間に達してしまった
		CALL FUCK(対象, "Ｖ, 奉仕, 性交, 欲望, 性技, Ｖ性交", "膣内射精, 処女喪失", GET_ID(MASTER), "", ANAME(MASTER), "", 喪失_和姦)
		CALL FUCK(MASTER, "Ｃ, 射精, 欲望, Ｖ挿入", "童貞喪失", 0, "", "", @"%ANAME(対象)%の膣", 喪失_和姦)
		PRINTFORMW 「んんんっ……♥　あはっ……一杯射精て……はぁ……っ」
		PRINTFORMW 「たくさん射精したのね、えらいえらい」
	CASE 2
		PRINTFORML 布団が盛り上がっている
		PRINTFORMW 何事かと思ってまくってみれば、%ANAME(対象)%が%ANAME(MASTER)%のモノを胸で扱き上げている
		PRINTFORMW 「ん……はっ、あ、おはよ、%ANAME(MASTER)%」
		PRINTFORMW 「男の人って胸、好きよね」
		PRINTFORMW 「朝から好きなもので気持ちよくなれるなんて、とってもハッピーでしょ？」
		PRINTFORML 確かに、とても幸せだ……
		PRINTFORMW %ANAME(対象)%の豊かな乳房の柔らかな感触は、%ANAME(MASTER)%をあっという間に射精に導いた
		CALL FUCK(対象, "Ｂ, 奉仕, 精愛, 性技, 欲望")
		CALL FUCK(MASTER, "Ｃ,　射精, 欲望")
		PRINTFORMW 「あはっ……♥　おっぱい熱っ……気持ちよかったのね、よかった」
ENDSELECT

PRINTFORMW 「お互いに気持ちよくなって、一杯幸せになって、最高の朝だわ」
PRINTFORM 「それじゃあ%ANAME(MASTER)%、今日も
IF IS_LOVER(対象)
	PRINTFORMW 一日、頑張りましょうね？」
	PRINTFORMW 笑みを浮かべる%ANAME(対象)%に軽く口づけると、%ANAME(MASTER)%は起き上がった……
ELSE
	PRINTFORMW いっぱい、私のこと、可愛がってね……？」
	PRINTFORMW %ANAME(MASTER)%に心酔した%ANAME(対象)%は、淫靡な、そして媚びたような表情を浮かべる
	PRINTFORMW 軽く口づけてやると、%ANAME(MASTER)%は起き上がった……
ENDIF

KDVAR:対象:メルラン_ソウルゴーハッピー = 1

RETURN 1
