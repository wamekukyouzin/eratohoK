;複数のシナリオで共有する設定など
;-------------------------------------------------
;士官どうしの関係の基本設定
;-------------------------------------------------
@SHARED_SETTING_RELATION
#DIM 関係

FOR LOCAL, 0, CHARANUM
	FOR LOCAL:1, 0, CHARANUM
		SIF !IS_TOHO_CHARA(LOCAL:1)
			CONTINUE
		関係 = RELATION:LOCAL:(NO:(LOCAL:1))
		SIF GROUPMATCH(関係, 0, 100)
			CONTINUE
		IF 関係 > 100
			REL_LIKE:LOCAL:(LOCAL:1) = LIMIT(REL_LIKE:LOCAL:(LOCAL:1) + 関係 *  3, 0, 1500)
			REL_HATE:LOCAL:(LOCAL:1) = LIMIT(REL_HATE:LOCAL:(LOCAL:1) + 関係 * -2, 0, 1500)
		ELSEIF 関係 < 100
			REL_LIKE:LOCAL:(LOCAL:1) = LIMIT(REL_LIKE:LOCAL:(LOCAL:1) + (100 - 関係) * -10,  0, 1500)
			REL_HATE:LOCAL:(LOCAL:1) = LIMIT(REL_HATE:LOCAL:(LOCAL:1) + (100 - 関係)  *  10,  0, 1500)
		ENDIF

		SIF !IS_COUNTRY(CFLAG:(LOCAL:1):所属)
			CONTINUE
		SIF GET_COUNTRY_BOSS(CFLAG:(LOCAL:0):所属) == LOCAL:0 && GET_COUNTRY_BOSS(CFLAG:(LOCAL:1):所属) == LOCAL:1
			CONTINUE
		SIF CFLAG:(LOCAL:0):所属 == CFLAG:(LOCAL:1):所属
			REL_LIKE:LOCAL:(LOCAL:1) = LIMIT(REL_LIKE:LOCAL:(LOCAL:1) + RAND(100, 300),  0, 1500)
		SIF GET_COUNTRY_BOSS(CFLAG:(LOCAL:0):所属) ==  LOCAL:1
			REL_LIKE:LOCAL:(LOCAL:1) = LIMIT(REL_LIKE:LOCAL:(LOCAL:1) + RAND(100, 300),  0, 1500)
	NEXT
NEXT
